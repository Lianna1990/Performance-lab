<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="20">
  <HTTPTask id="278" hostname="prod.uxcrowd.ru" path="/assets/gulp/app_js.js" url="https://prod.uxcrowd.ru/assets/gulp/app_js.js" ip="127.0.0.1" port="443" connectionId="16" origin="Primary" frame="1" startDateTime="2019-10-18T15:08:50.218+03:00" startTime="80862109" endTime="80862250">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHJvZC51eGNyb3dkLnJ1</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IHJ2OjQ4LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNDguMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlUscnU7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9wcm9kLnV4Y3Jvd2QucnUv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9hc3NldHMvZ3VscC9hcHBfanMuanMgSFRUUC8xLjENCkhvc3Q6IHByb2QudXhjcm93ZC5ydQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IHJ2OjQ4LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNDguMA0KQWNjZXB0OiAqLyoNCkFjY2VwdC1MYW5ndWFnZTogcnUtUlUscnU7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjMNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINClJlZmVyZXI6IGh0dHBzOi8vcHJvZC51eGNyb3dkLnJ1Lw0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>20930</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbng=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxOCBPY3QgMjAxOSAxMjowNzoxOCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD1VVEYtOA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjA5MzA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNSBTZXAgMjAxOSAxNToyMTowNiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjVkOGI4NWUyLTUxYzIi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bXVzdC1yZXZhbGlkYXRl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Security-Policy-Report-Only" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGVmYXVsdC1zcmMgaHR0cHM6OyBzY3JpcHQtc3JjIGh0dHBzOiAndW5zYWZlLWV2YWwnICd1bnNhZmUtaW5saW5lJzsgc3R5bGUtc3JjIGh0dHBzOiAndW5zYWZlLWlubGluZSc7IGltZy1zcmMgaHR0cHM6IGRhdGE6OyBmb250LXNyYyBodHRwczogZGF0YTo7IHJlcG9ydC11cmkgL2NzcC1yZXBvcnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT04NjQwMDs=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Security-Policy-Report-Only" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGVmYXVsdC1zcmMgaHR0cHM6OyBzY3JpcHQtc3JjIGh0dHBzOiAndW5zYWZlLWV2YWwnICd1bnNhZmUtaW5saW5lJzsgc3R5bGUtc3JjIGh0dHBzOiAndW5zYWZlLWlubGluZSc7IGltZy1zcmMgaHR0cHM6IGRhdGE6OyBmb250LXNyYyBodHRwczogZGF0YTo7IHJlcG9ydC11cmkgL2NzcC1yZXBvcnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54DQpEYXRlOiBGcmksIDE4IE9jdCAyMDE5IDEyOjA3OjE4IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PVVURi04DQpDb250ZW50LUxlbmd0aDogMjA5MzANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkxhc3QtTW9kaWZpZWQ6IFdlZCwgMjUgU2VwIDIwMTkgMTU6MjE6MDYgR01UDQpFVGFnOiAiNWQ4Yjg1ZTItNTFjMiINCkNhY2hlLUNvbnRyb2w6IG11c3QtcmV2YWxpZGF0ZQ0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkNvbnRlbnQtU2VjdXJpdHktUG9saWN5LVJlcG9ydC1Pbmx5OiBkZWZhdWx0LXNyYyBodHRwczo7IHNjcmlwdC1zcmMgaHR0cHM6ICd1bnNhZmUtZXZhbCcgJ3Vuc2FmZS1pbmxpbmUnOyBzdHlsZS1zcmMgaHR0cHM6ICd1bnNhZmUtaW5saW5lJzsgaW1nLXNyYyBodHRwczogZGF0YTo7IGZvbnQtc3JjIGh0dHBzOiBkYXRhOjsgcmVwb3J0LXVyaSAvY3NwLXJlcG9ydA0KU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eTogbWF4LWFnZT04NjQwMDsNCkNvbnRlbnQtU2VjdXJpdHktUG9saWN5LVJlcG9ydC1Pbmx5OiBkZWZhdWx0LXNyYyBodHRwczo7IHNjcmlwdC1zcmMgaHR0cHM6ICd1bnNhZmUtZXZhbCcgJ3Vuc2FmZS1pbmxpbmUnOyBzdHlsZS1zcmMgaHR0cHM6ICd1bnNhZmUtaW5saW5lJzsgaW1nLXNyYyBodHRwczogZGF0YTo7IGZvbnQtc3JjIGh0dHBzOiBkYXRhOjsgcmVwb3J0LXVyaSAvY3NwLXJlcG9ydA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>YW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnVW5zdWJzY3JpYmUnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7CiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL3Vuc3Vic2NyaWJlLzplbWFpbC86c2lnbmF0dXJlJywge30sIHt9KQogICAgfSk7CgogIAphbmd1bGFyLm1vZHVsZSgnYXBwJykKICAgIC5mYWN0b3J5KCdBY2NvdW50JywgZnVuY3Rpb24gQWNjb3VudCgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvYWNjb3VudCcsIHt9LCB7CiAgICAgICAgICAgICdnZXQnOiB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLCBwYXJhbXM6IHt9LCBpc0FycmF5OiBmYWxzZSwKICAgICAgICAgICAgICAgIGludGVyY2VwdG9yOiB7CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBleHBvc2UgcmVzcG9uc2UKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHsKICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFsnc2VsZicsJ3V4Y3Jvd2Q6Ly8/b3JkZXJJZD0qKicsJ2h0dHBzOi8vc2VjdXJlcGF5LnRjc2JhbmsucnUvKionLCAnaHR0cHM6Ly90ZXN0LnV4Y3Jvd2QucnUvdmlkZW9zLyoqJywgJ2h0dHBzOi8vdXhjcm93ZC5ydS92aWRlb3MvKionLCdodHRwczovL3NlY3VyZXBheS50aW5rb2ZmLnJ1LyoqJ10pCn0pOwphbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKCdjb252ZXJ0VG9OdW1iZXInLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJywKICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7CiAgICAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMucHVzaChmdW5jdGlvbiAodmFsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbCkgewogICAgICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9Owp9KTsKCgoKCmFuZ3VsYXIubW9kdWxlKCdhcHAnKQogICAgLmZhY3RvcnkoJ0FjdGl2YXRlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkgewogICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9hY3RpdmF0ZScsIHt9LCB7fSkKICAgIH0pOwoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnQWN0aXZhdGVFeGlzdCcsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvYWN0aXZhdGVfZXhpc3QnLCB7fSwge30pCiAgICB9KTsKCgoKCgphbmd1bGFyLm1vZHVsZSgnYXBwJykKICAgIC5mYWN0b3J5KCdhdXRoRXhwaXJlZEludGVyY2VwdG9yJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICRxLCAkaW5qZWN0b3IpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXNwb25zZUVycm9yOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYW4gdW5hdXRob3JpemVkIHJlcXVlc3Qgd2UgcmVkaXJlY3QgdG8gdGhlIGxvZ2luIHBhZ2UKICAgICAgICAgICAgICAgIC8vIERvbid0IGRvIHRoaXMgY2hlY2sgb24gdGhlIGFjY291bnQgQVBJIHRvIGF2b2lkIGluZmluaXRlIGxvb3AKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gNDAxICYmIHJlc3BvbnNlLmRhdGEucGF0aCAhPT0gdW5kZWZpbmVkICYmIHJlc3BvbnNlLmRhdGEucGF0aC5pbmRleE9mKCIvYXBpL2FjY291bnQiKSA9PSAtMSkgewogICAgICAgICAgICAgICAgICAgIHZhciBBdXRoID0gJGluamVjdG9yLmdldCgnQXV0aCcpOwogICAgICAgICAgICAgICAgICAgIHZhciAkc3RhdGUgPSAkaW5qZWN0b3IuZ2V0KCckc3RhdGUnKTsKICAgICAgICAgICAgICAgICAgICB2YXIgdG8gPSAkcm9vdFNjb3BlLnRvU3RhdGU7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9ICRyb290U2NvcGUudG9TdGF0ZVBhcmFtczsKICAgICAgICAgICAgICAgICAgICBBdXRoLmxvZ291dCgpOwogICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUucHJldmlvdXNTdGF0ZU5hbWUgPSB0bzsKICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGVOYW1lUGFyYW1zID0gcGFyYW1zOwogICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbmV3X21haW5faW5kZXgnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDQwMyAmJiByZXNwb25zZS5jb25maWcubWV0aG9kICE9ICdHRVQnICYmIHJlc3BvbnNlLmhlYWRlcnMoJ0NTUkYtRXhwaXJlZCcpID09PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgQ1NSRiB0b2tlbiBleHBpcmVkLCB0aGVuIHRyeSB0byBnZXQgYSBuZXcgQ1NSRiB0b2tlbiBhbmQgcmV0cnkgdGhlIG9sZCByZXF1ZXN0CiAgICAgICAgICAgICAgICAgICAgIHZhciBBY2NvdW50ID0gJGluamVjdG9yLmdldCgnQWNjb3VudCcpOwogICAgICAgICAgICAgICAgICAgICB2YXIgJGh0dHAgPSAkaW5qZWN0b3IuZ2V0KCckaHR0cCcpOwogICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpOwoKICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHNlc3Npb24gKHJlY292ZXIgdGhlIHNlc3Npb24pCiAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHVzZSBsb2dpbiBtZXRob2QgdGhhdCBsb2dzIHRoZSB1c2VyIGluIHVzaW5nIHRoZSBjdXJyZW50IGNyZWRlbnRpYWxzIGFuZAogICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIGEgcHJvbWlzZQogICAgICAgICAgICAgICAgICAgICAkaHR0cC5nZXQoJy9hcGkvcmVuZXdUb2tlbicpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTsKCiAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHNlc3Npb24gcmVjb3ZlcmVkLCBtYWtlIHRoZSBzYW1lIGJhY2tlbmQgY2FsbCBhZ2FpbiBhbmQgY2hhaW4gdGhlIHJlcXVlc3QKICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UudGhlbihmdW5jdGlvbihuZXdSZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Jlc3BvbnNlLmhlYWRlcnMoJ0NTUkYtRXhwaXJlZCcpICE9PSAndHJ1ZScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXRyeSB0aGUgb2xkIHJlcXVlc3QgYWZ0ZXIgdGhlIG5ldyBDU1JGLVRPS0VOIGlzIG9idGFpbmVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRodHRwKHJlc3BvbnNlLmNvbmZpZyk7CiAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVubGlrZWx5IGdldCBoZXJlIGJ1dCByZWplY3Qgd2l0aCB0aGUgb2xkIHJlc3BvbnNlIGFueSB3YXkgYW5kIGF2b2lkIGluZmluaXRlIGxvb3AKICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0pOwoKCgphbmd1bGFyLm1vZHVsZSgnYXBwJykKICAgIC5mYWN0b3J5KCdBdXRoU2VydmVyUHJvdmlkZXInLCBmdW5jdGlvbiBsb2dpblNlcnZpY2UoJGh0dHAsICR3aW5kb3cpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2dpbjogZnVuY3Rpb24gKGNyZWRlbnRpYWxzKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICd1c2VybmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNyZWRlbnRpYWxzLnVzZXJuYW1lKSArCiAgICAgICAgICAgICAgICAgICAgJyZwYXNzd29yZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNyZWRlbnRpYWxzLnBhc3N3b3JkKSArCiAgICAgICAgICAgICAgICAgICAgJyZyZW1lbWJlci1tZT0nICsgY3JlZGVudGlhbHMucmVtZW1iZXJNZSArICcmc3VibWl0PUxvZ2luJzsKICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCdhcGkvYXV0aGVudGljYXRpb24nLCBkYXRhLCB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2dvdXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vIGxvZ291dCBmcm9tIHRoZSBzZXJ2ZXIKICAgICAgICAgICAgICAgICRodHRwLnBvc3QoJ2FwaS9sb2dvdXQnKS5zdWNjZXNzKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIC8vIHRvIGdldCBhIG5ldyBjc3JmIHRva2VuIGNhbGwgdGhlIGFwaQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5JbnRlcmNvbSgnc2h1dGRvd24nKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuSW50ZXJjb20oImJvb3QiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcF9pZDogd2luZG93LiRjb25maWcuaW50ZXJjb21JZAogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICRodHRwLmdldCgnYXBpL2FjY291bnQnKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0VG9rZW46IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHJldHVybiAidG9rZW4gaW4gYXV0aC5zZXNzaW9uLnNlcnZpY2UuanMiOwogICAgICAgICAgICB9LAogICAgICAgICAgICBoYXNWYWxpZFRva2VuOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmdldFRva2VuKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gISF0b2tlbjsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KTsKCgoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZGlyZWN0aXZlKCdoYXNBbnlBdXRob3JpdHknLCBbJ1ByaW5jaXBhbCcsIGZ1bmN0aW9uIChQcmluY2lwYWwpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CiAgICAgICAgICAgICAgICB2YXIgc2V0VmlzaWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzZXRIaWRkZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVmaW5lVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChyZXNldCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0OwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzZXQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFZpc2libGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gUHJpbmNpcGFsLmhhc0FueUF1dGhvcml0eShhdXRob3JpdGllcyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFZpc2libGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEhpZGRlbigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBhdXRob3JpdGllcyA9IGF0dHJzLmhhc0FueUF1dGhvcml0eS5yZXBsYWNlKC9ccysvZywgJycpLnNwbGl0KCcsJyk7CgogICAgICAgICAgICAgICAgaWYgKGF1dGhvcml0aWVzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBkZWZpbmVWaXNpYmlsaXR5KHRydWUpOwoKICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24gKHNjb3BlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcmluY2lwYWwuaXNBdXRoZW50aWNhdGVkKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluZVZpc2liaWxpdHkodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfV0pCiAgICAuZGlyZWN0aXZlKCdoYXNBdXRob3JpdHknLCBbJ1ByaW5jaXBhbCcsIGZ1bmN0aW9uIChQcmluY2lwYWwpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7CiAgICAgICAgICAgICAgICB2YXIgc2V0VmlzaWJsZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzZXRIaWRkZW4gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZGVmaW5lVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChyZXNldCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRWaXNpYmxlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIFByaW5jaXBhbC5oYXNBdXRob3JpdHkoYXV0aG9yaXR5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmlzaWJsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEhpZGRlbigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXR5ID0gYXR0cnMuaGFzQXV0aG9yaXR5LnJlcGxhY2UoL1xzKy9nLCAnJyk7CgogICAgICAgICAgICAgICAgaWYgKGF1dGhvcml0eS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgZGVmaW5lVmlzaWJpbGl0eSh0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIChzY29wZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJpbmNpcGFsLmlzQXV0aGVudGljYXRlZCgpOwogICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVWaXNpYmlsaXR5KHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH1dKTsKCgoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuc2VydmljZSgnRGF0ZVV0aWxzJywgZnVuY3Rpb24gKCRmaWx0ZXIpIHsKCiAgICAgICAgdGhpcy5jb252ZXJ0TG9jYWxlRGF0ZVRvU2VydmVyID0gZnVuY3Rpb24gKGRhdGUpIHsKICAgICAgICAgICAgaWYgKGRhdGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkZmlsdGVyKCdkYXRlJykoZGF0ZSwgJ3l5eXktTU0tZGQnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5jb252ZXJ0TG9jYWxlRGF0ZUZyb21TZXJ2ZXIgPSBmdW5jdGlvbiAoZGF0ZSkgewogICAgICAgICAgICBpZiAoZGF0ZSkgewogICAgICAgICAgICAgICAgdmFyIGRhdGVTdHJpbmcgPSBkYXRlLnNwbGl0KCItIik7CiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZ1swXSwgZGF0ZVN0cmluZ1sxXSAtIDEsIGRhdGVTdHJpbmdbMl0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH07CgogICAgICAgIHRoaXMuY29udmVydERhdGVUb1NlcnZlckR1cmF0aW9uID0gZnVuY3Rpb24gKGRhdGUpIHsKICAgICAgICAgICAgaWYgKGRhdGUpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRlRm9ybWF0dGVkID0gJGZpbHRlcignZGF0ZScpKGRhdGUsICdISDptbTpzcycpOwogICAgICAgICAgICAgICAgdmFyIHNwbGl0ID0gZGF0ZUZvcm1hdHRlZC5zcGxpdCgiOiIpOwogICAgICAgICAgICAgICAgcmV0dXJuICJQVCIgKyBzcGxpdFswXSArICJIIiArIHNwbGl0WzFdICsgIk0iICsgc3BsaXRbMl0gKyAiUyI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHRoaXMuY29udmVydER1cmF0aW9pbkZyb21TZXJ2ZXIgPSBmdW5jdGlvbiAoZGF0ZSkgewogICAgICAgICAgICBpZiAoZGF0ZSkgewogICAgICAgICAgICAgICAgdmFyIGRhdGVTdHJpbmcgPSBkYXRlLnJlcGxhY2UoIlBUIiwgIiIpLnJlcGxhY2UoIkgiLCAiOiIpLnJlcGxhY2UoIk0iLCAiOiIpLnJlcGxhY2UoIlMiLCAiIik7CiAgICAgICAgICAgICAgICAvL3ZhciBkYXRlU3RyaW5nID0gZGF0ZS5zcGxpdCgiOiIpOwogICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEdXJhdGlvbihkYXRlU3RyaW5nWzBdLCBkYXRlU3RyaW5nWzFdIC0gMSwgZGF0ZVN0cmluZ1syXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfTsKCiAgICAgICAgdGhpcy5jb252ZXJ0RGF0ZVRpbWVGcm9tU2VydmVyID0gZnVuY3Rpb24gKGRhdGUpIHsKICAgICAgICAgICAgaWYgKGRhdGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgLy8gY29tbW9uIGRhdGUgZm9ybWF0IGZvciBhbGwgZGF0ZSBpbnB1dCBmaWVsZHMKICAgICAgICB0aGlzLmRhdGVmb3JtYXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAneXl5eS1NTS1kZCc7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnNlY29uZHNUb0htID0gZnVuY3Rpb24oZCkgewogICAgICAgICAgIGQgPSBOdW1iZXIoZCk7CiAgICAgICAgICAgdmFyIGhvdXJzID0gTWF0aC5mbG9vcihkIC8gMzYwMCk7CiAgICAgICAgICAgdmFyIG1pbnV0ZXMgPSBNYXRoLmZsb29yKGQgJSAzNjAwIC8gNjApOwogICAgICAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcihkICUgMzYwMCAlIDYwKTsKCiAgICAgICAgICAgcmV0dXJuIChob3VycyA8IDEwID8gIjAiICsgaG91cnMgOiBob3VycykgKyAiOiIgKyAobWludXRlcyA8IDEwID8gIjAiICsgbWludXRlcyA6IG1pbnV0ZXMpICsgIjoiICsgKHNlY29uZHMgIDwgMTAgPyAiMCIgKyBzZWNvbmRzIDogc2Vjb25kcyk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnNlY29uZHNUb01pbnV0ZXMgPSBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgZCA9IE51bWJlcihkKTsKICAgICAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKGQgLyAzNjAwKTsKICAgICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoZCAlIDM2MDAgLyA2MCkgKyBob3VycyAqIDYwOwogICAgICAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcihkICUgMzYwMCAlIDYwKTsKCiAgICAgICAgICAgcmV0dXJuIChtaW51dGVzIDwgMTAgPyAiMCIgKyBtaW51dGVzIDogbWludXRlcykgKyAiOiIgKyAoc2Vjb25kcyAgPCAxMCA/ICIwIiArIHNlY29uZHMgOiBzZWNvbmRzKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuaG1zVG9TZWNvbmRzID0gZnVuY3Rpb24oaG1zKSB7CiAgICAgICAgICAgdmFyIGEgPSBobXMuc3BsaXQoJzonKTsKICAgICAgICAgICByZXR1cm4gKCthWzBdKSAqIDYwICogNjAgKyAoK2FbMV0pICogNjAgKyAoK2FbMl0pOwogICAgICAgIH0KCiAgICB9KTsKCgoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnZXJyb3JIYW5kbGVySW50ZXJjZXB0b3InLCBmdW5jdGlvbiAoJHEsICRyb290U2NvcGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAncmVzcG9uc2VFcnJvcic6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09IDQwMSAmJiByZXNwb25zZS5jb25maWcudXJsLmluZGV4T2YoIi9hcGkvYWNjb3VudCIpID09IDAgKSkgewogICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ3V4dGVzdC5odHRwRXJyb3InLCByZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KTsKLyogZ2xvYmFscyAkICovCgoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZGlyZWN0aXZlKCdzaG93VmFsaWRhdGlvbicsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByZXN0cmljdDogJ0EnLAogICAgICAgICAgICByZXF1aXJlOiAnZm9ybScsCiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkgewogICAgICAgICAgICAgICAgZWxlbWVudC5maW5kKCcuZm9ybS1ncm91cCcpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciAkZm9ybUdyb3VwID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0cyA9ICRmb3JtR3JvdXAuZmluZCgnaW5wdXRbbmctbW9kZWxdLHRleHRhcmVhW25nLW1vZGVsXSxzZWxlY3RbbmctbW9kZWxdJyk7CgogICAgICAgICAgICAgICAgICAgIGlmICgkaW5wdXRzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0cy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGlucHV0Lmhhc0NsYXNzKCduZy1pbnZhbGlkJykgJiYgJGlucHV0Lmhhc0NsYXNzKCduZy1kaXJ0eScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGlzSW52YWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtR3JvdXAudG9nZ2xlQ2xhc3MoJ2hhcy1lcnJvcicsIGlzSW52YWxpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSk7CgovKiBnbG9iYWxzICQgKi8KCgphbmd1bGFyLm1vZHVsZSgnYXBwJykKICAgIC5kaXJlY3RpdmUoJ3Bhc3N3b3JkU3RyZW5ndGhCYXInLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSwKICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJywKICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGlkPSJzdHJlbmd0aCI+JyArCiAgICAgICAgICAgICc8c21hbGw+0KHQu9C+0LbQvdC+0YHRgtGMINC/0LDRgNC+0LvRjzo8L3NtYWxsPicgKwogICAgICAgICAgICAnPHVsIGlkPSJzdHJlbmd0aEJhciI+JyArCiAgICAgICAgICAgICc8bGkgY2xhc3M9InBvaW50Ij48L2xpPjxsaSBjbGFzcz0icG9pbnQiPjwvbGk+PGxpIGNsYXNzPSJwb2ludCI+PC9saT48bGkgY2xhc3M9InBvaW50Ij48L2xpPjxsaSBjbGFzcz0icG9pbnQiPjwvbGk+JyArCiAgICAgICAgICAgICc8L3VsPicgKwogICAgICAgICAgICAnPC9kaXY+JywKICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBpRWxlbWVudCwgYXR0cikgewogICAgICAgICAgICAgICAgdmFyIHN0cmVuZ3RoID0gewogICAgICAgICAgICAgICAgICAgIGNvbG9yczogWycjRjAwJywgJyNGOTAnLCAnI0ZGMCcsICcjOUYwJywgJyMwRjAnXSwKICAgICAgICAgICAgICAgICAgICBtZXN1cmVTdHJlbmd0aDogZnVuY3Rpb24gKHApIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZm9yY2UgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZ2V4ID0gL1skLS86LT97LX4hIl5fYFxbXF1dL2c7IC8vICIKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfbG93ZXJMZXR0ZXJzID0gL1thLXpdKy8udGVzdChwKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF91cHBlckxldHRlcnMgPSAvW0EtWl0rLy50ZXN0KHApOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX251bWJlcnMgPSAvWzAtOV0rLy50ZXN0KHApOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3N5bWJvbHMgPSBfcmVnZXgudGVzdChwKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZmxhZ3MgPSBbX2xvd2VyTGV0dGVycywgX3VwcGVyTGV0dGVycywgX251bWJlcnMsIF9zeW1ib2xzXTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wYXNzZWRNYXRjaGVzID0gJC5ncmVwKF9mbGFncywgZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwgPT09IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmxlbmd0aDsKCiAgICAgICAgICAgICAgICAgICAgICAgIF9mb3JjZSArPSAyICogcC5sZW5ndGggKyAoKHAubGVuZ3RoID49IDEwKSA/IDEgOiAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgX2ZvcmNlICs9IF9wYXNzZWRNYXRjaGVzICogMTA7CgogICAgICAgICAgICAgICAgICAgICAgICAvLyBwZW5hbGl0eSAoc2hvcnQgcGFzc3dvcmQpCiAgICAgICAgICAgICAgICAgICAgICAgIF9mb3JjZSA9IChwLmxlbmd0aCA8PSA2KSA/IE1hdGgubWluKF9mb3JjZSwgMTApIDogX2ZvcmNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGVuYWxpdHkgKHBvb3IgdmFyaWV0eSBvZiBjaGFyYWN0ZXJzKQogICAgICAgICAgICAgICAgICAgICAgICBfZm9yY2UgPSAoX3Bhc3NlZE1hdGNoZXMgPT09IDEpID8gTWF0aC5taW4oX2ZvcmNlLCAxMCkgOiBfZm9yY2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF9mb3JjZSA9IChfcGFzc2VkTWF0Y2hlcyA9PT0gMikgPyBNYXRoLm1pbihfZm9yY2UsIDIwKSA6IF9mb3JjZTsKICAgICAgICAgICAgICAgICAgICAgICAgX2ZvcmNlID0gKF9wYXNzZWRNYXRjaGVzID09PSAzKSA/IE1hdGgubWluKF9mb3JjZSwgNDApIDogX2ZvcmNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9mb3JjZTsKCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBnZXRDb2xvcjogZnVuY3Rpb24gKHMpIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSAwOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocyA8PSAxMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzIDw9IDIwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHggPSAxOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHMgPD0gMzApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocyA8PSA0MCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gMzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkeCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7aWR4OiBpZHggKyAxLCBjb2w6IHRoaXMuY29sb3JzW2lkeF19OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5wYXNzd29yZFRvQ2hlY2ssIGZ1bmN0aW9uIChwYXNzd29yZCkgewogICAgICAgICAgICAgICAgICAgIGlmIChwYXNzd29yZCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHN0cmVuZ3RoLmdldENvbG9yKHN0cmVuZ3RoLm1lc3VyZVN0cmVuZ3RoKHBhc3N3b3JkKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlFbGVtZW50LnJlbW92ZUNsYXNzKCduZy1oaWRlJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlFbGVtZW50LmZpbmQoJ3VsJykuY2hpbGRyZW4oJ2xpJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jc3MoeydiYWNrZ3JvdW5kLWNvbG9yJzogJyNEREQnfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCBjLmlkeCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jc3MoeydiYWNrZ3JvdW5kLWNvbG9yJzogYy5jb2x9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9KTsKCgoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnUGFzc3dvcmQnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7CiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL2FjY291bnQvY2hhbmdlX3Bhc3N3b3JkJywge30sIHt9KTsKICAgIH0pOwoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnUGFzc3dvcmRSZXNldEluaXQnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7CiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL2FjY291bnQvcmVzZXRfcGFzc3dvcmQvaW5pdCcsIHt9LCB7fSkKICAgIH0pOwoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnUGFzc3dvcmROZXcnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7CiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL25ld19wYXNzd29yZCcsIHt9LCB7fSkKICAgIH0pOwoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnUGFzc3dvcmRSZXNldEZpbmlzaCcsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvYWNjb3VudC9yZXNldF9wYXNzd29yZC9maW5pc2gnLCB7fSwge30pCiAgICB9KTsKCmFuZ3VsYXIubW9kdWxlKCdhcHAnKQogICAgLmZhY3RvcnkoJ0dldFByaWNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkgewogICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9wdWJsaWMvcHJpY2UnLCB7fSwge30pCiAgICB9KTsKCgoKYW5ndWxhci5tb2R1bGUoJ2FwcCcpCiAgICAuZmFjdG9yeSgnUHJpbmNpcGFsJywgZnVuY3Rpb24gUHJpbmNpcGFsKCRxLCBBY2NvdW50KSB7CiAgICAgICAgdmFyIF9pZGVudGl0eSwKICAgICAgICAgICAgX2F1dGhlbnRpY2F0ZWQgPSBmYWxzZTsKCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNJZGVudGl0eVJlc29sdmVkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQoX2lkZW50aXR5KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX2F1dGhlbnRpY2F0ZWQ7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhhc0F1dGhvcml0eTogZnVuY3Rpb24gKGF1dGhvcml0eSkgewogICAgICAgICAgICAgICAgaWYgKCFfYXV0aGVudGljYXRlZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS53aGVuKGZhbHNlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24gKF9pZCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfaWQucm9sZSAmJiBfaWQucm9sZS5pbmRleE9mKGF1dGhvcml0eSkgIT09IC0xOwogICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICBoYXNBbnlBdXRob3JpdHk6IGZ1bmN0aW9uIChhdXRob3JpdGllcykgewogICAgICAgICAgICAgICAgaWYgKCFfYXV0aGVudGljYXRlZCB8fCAhX2lkZW50aXR5IHx8ICFfaWRlbnRpdHkucm9sZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF1dGhvcml0aWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF9pZGVudGl0eS5yb2xlLmluZGV4T2YoYXV0aG9yaXRpZXNbaV0pICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBhdXRoZW50aWNhdGU6IGZ1bmN0aW9uIChpZGVudGl0eSkgewogICAgICAgICAgICAgICAgX2lkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAgICAgICAgICAgICBfYXV0aGVudGljYXRlZCA9IGlkZW50aXR5ICE9PSBudWxsOwogICAgICAgICAgICB9LAogICAgICAgICAgICBpZGVudGl0eTogZnVuY3Rpb24gKGZvcmNlKSB7CiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpOwoKICAgICAgICAgICAgICAgIGlmIChmb3JjZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIF9pZGVudGl0eSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBjaGVjayBhbmQgc2VlIGlmIHdlIGhhdmUgcmV0cmlldmVkIHRoZSBpZGVudGl0eSBkYXRhIGZyb20gdGhlIHNlcnZlci4KICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUsIHJldXNlIGl0IGJ5IGltbWVkaWF0ZWx5IHJlc29sdmluZwogICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKF9pZGVudGl0eSkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoX2lkZW50aXR5IT1udWxsICYmIF9pZGVudGl0eS5pZCE9bnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5JbnRlcmNvbSgndXBkYXRlJywgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwX2lkOiB3aW5kb3cuJGNvbmZpZy5pbnRlcmNvbUlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IF9pZGVudGl0eS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IF9pZGVudGl0eS5pZAogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShfaWRlbnRpdHkpOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSB0aGUgaWRlbnRpdHkgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIsIHVwZGF0ZSB0aGUgaWRlbnRpdHkgb2JqZWN0LCBhbmQgdGhlbiByZXNvbHZlLgogICAgICAgICAgICAgICAgQWNjb3VudC5nZXQoKS4kcHJvbWlzZQogICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhY2NvdW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9pZGVudGl0eSA9IGFjY291bnQuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgX2F1dGhlbnRpY2F0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2lkZW50aXR5IT1udWxsICYmIF9pZGVudGl0eS5pZCE9bnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuSW50ZXJjb20oJ3VwZGF0ZScsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBfaWQ6IHdpbmRvdy4kY29uZmlnLmludGVyY29tSWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IF9pZGVudGl0eS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiBfaWRlbnRpdHkuaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX2lkZW50aXR5KTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF9pZGVudGl0eSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIF9hdXRoZW50aWNhdGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoX2lkZW50aXR5KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0pOwoKCgphbmd1bGFyLm1vZHVsZSgnYXBwJykKICAgIC5mYWN0b3J5KCdSZWdpc3RlcicsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvcmVnaXN0ZXInLCB7fSwge30pOwogICAgfSkKICAgIC5mYWN0b3J5KCdUZXN0ZXJJbnRlZ3JhdGlvbicsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvdGVzdGVyLWludGVncmF0aW9uJywge30sIHt9KTsKICAgIH0pCiAgICAuZmFjdG9yeSgnQ3VzdG9tZXJSZWdpc3RlcicsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvcHVibGljL3BheW1lbnRUYXJpZmZJbml0UmVxdWVzdCcsIHt9LCB7fSk7CiAgICB9KTsKCgoKCgphbmd1bGFyLm1vZHVsZSgnYXBwJykKICAgIC5mYWN0b3J5KCdTZXNzaW9ucycsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvYWNjb3VudC9zZXNzaW9ucy86c2VyaWVzJywge30sIHsKICAgICAgICAgICAgJ2dldEFsbCc6IHttZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlfQogICAgICAgIH0pOwogICAgfSk7CgoKCgphbmd1bGFyLm1vZHVsZSgnYXBwJykKICAuZmFjdG9yeSgnVHJhbnNsYXRpb24nLCBmdW5jdGlvbiBUcmFuc2xhdGlvbigkcm9vdFNjb3BlLCAkaHR0cCwgJGNvbmZpZywgJHdpbmRvdykgewogICAgY29uc3QgcGF0aCA9ICdhc3NldHMvbGFuZy8nOwoKICAgIHJldHVybiB7CiAgICAgIGdldFRyYW5zbGF0aW9uOiBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihsYW5nKSB7CiAgICAgICAgcmV0dXJuICRodHRwLmdldChwYXRoICsgbGFuZyArICcuanNvbicpCiAgICAgIH0sCgogICAgICBnZXRFeHRlbnNpb25JZDogZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24oKSB7CiAgICAgICAgaWYgKCRjb25maWcubG9jYWxlID09ICdlbicpewogICAgICAgICAgICByZXR1cm4gJGNvbmZpZy5leHRlbnNpb25JREVuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAkY29uZmlnLmV4dGVuc2lvbklEUnU7CiAgICAgICAgfQogICAgICB9LAoKICAgICAgdHJhbnNsYXRlOiBmdW5jdGlvbihsYWJlbENvZGUpIHsKICAgICAgICAgIHJldHVybiAkY29uZmlnLnRyYW5zbGF0aW9uW2xhYmVsQ29kZS5zcGxpdCgnLicpWzBdXVtsYWJlbENvZGUuc3BsaXQoJy4nKVsxXV07CiAgICAgIH0sCgogICAgICBzd2l0Y2hMYW5ndWFnZTogZnVuY3Rpb24gc3dpdGNoTGFuZ3VhZ2UobGFuZykgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYW5nJywgbGFuZyk7CiAgICAgICAgdGhpcy5nZXRUcmFuc2xhdGlvbihsYW5nKQogICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAkY29uZmlnLnRyYW5zbGF0aW9uID0gZGF0YTsKICAgICAgICAgICAgICAkd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgfSkKICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2Fubm90IGxvYWQgdHJhbnNsYXRpb24gZnJvbSAiJyArIGxhbmcgKyAnLmpzb24iIGZpbGUgOignKQogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9KTs=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="80862250" offset="0" length="755" />
        <PacketInfo time="80862250" offset="755" length="16355" />
        <PacketInfo time="80862250" offset="17110" length="4575" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>