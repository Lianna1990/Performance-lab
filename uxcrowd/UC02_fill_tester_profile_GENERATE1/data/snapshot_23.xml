<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="23">
  <HTTPTask id="288" hostname="prod.uxcrowd.ru" path="/assets/gulp/home_js.js" url="https://prod.uxcrowd.ru/assets/gulp/home_js.js" ip="127.0.0.1" port="443" connectionId="16" origin="Primary" frame="1" startDateTime="2019-10-18T15:08:50.389+03:00" startTime="80862250" endTime="80862328">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHJvZC51eGNyb3dkLnJ1</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IHJ2OjQ4LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNDguMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlUscnU7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9wcm9kLnV4Y3Jvd2QucnUv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9hc3NldHMvZ3VscC9ob21lX2pzLmpzIEhUVFAvMS4xDQpIb3N0OiBwcm9kLnV4Y3Jvd2QucnUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBydjo0OC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzQ4LjANCkFjY2VwdDogKi8qDQpBY2NlcHQtTGFuZ3VhZ2U6IHJ1LVJVLHJ1O3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4zDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIGJyDQpSZWZlcmVyOiBodHRwczovL3Byb2QudXhjcm93ZC5ydS8NCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>23862</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbng=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxOCBPY3QgMjAxOSAxMjowNzoxOCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD1VVEYtOA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MjM4NjI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNSBTZXAgMjAxOSAxNToyMTowNiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjVkOGI4NWUyLTVkMzYi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bXVzdC1yZXZhbGlkYXRl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Security-Policy-Report-Only" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGVmYXVsdC1zcmMgaHR0cHM6OyBzY3JpcHQtc3JjIGh0dHBzOiAndW5zYWZlLWV2YWwnICd1bnNhZmUtaW5saW5lJzsgc3R5bGUtc3JjIGh0dHBzOiAndW5zYWZlLWlubGluZSc7IGltZy1zcmMgaHR0cHM6IGRhdGE6OyBmb250LXNyYyBodHRwczogZGF0YTo7IHJlcG9ydC11cmkgL2NzcC1yZXBvcnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT04NjQwMDs=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Security-Policy-Report-Only" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGVmYXVsdC1zcmMgaHR0cHM6OyBzY3JpcHQtc3JjIGh0dHBzOiAndW5zYWZlLWV2YWwnICd1bnNhZmUtaW5saW5lJzsgc3R5bGUtc3JjIGh0dHBzOiAndW5zYWZlLWlubGluZSc7IGltZy1zcmMgaHR0cHM6IGRhdGE6OyBmb250LXNyYyBodHRwczogZGF0YTo7IHJlcG9ydC11cmkgL2NzcC1yZXBvcnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54DQpEYXRlOiBGcmksIDE4IE9jdCAyMDE5IDEyOjA3OjE4IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PVVURi04DQpDb250ZW50LUxlbmd0aDogMjM4NjINCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCkxhc3QtTW9kaWZpZWQ6IFdlZCwgMjUgU2VwIDIwMTkgMTU6MjE6MDYgR01UDQpFVGFnOiAiNWQ4Yjg1ZTItNWQzNiINCkNhY2hlLUNvbnRyb2w6IG11c3QtcmV2YWxpZGF0ZQ0KQWNjZXB0LVJhbmdlczogYnl0ZXMNCkNvbnRlbnQtU2VjdXJpdHktUG9saWN5LVJlcG9ydC1Pbmx5OiBkZWZhdWx0LXNyYyBodHRwczo7IHNjcmlwdC1zcmMgaHR0cHM6ICd1bnNhZmUtZXZhbCcgJ3Vuc2FmZS1pbmxpbmUnOyBzdHlsZS1zcmMgaHR0cHM6ICd1bnNhZmUtaW5saW5lJzsgaW1nLXNyYyBodHRwczogZGF0YTo7IGZvbnQtc3JjIGh0dHBzOiBkYXRhOjsgcmVwb3J0LXVyaSAvY3NwLXJlcG9ydA0KU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eTogbWF4LWFnZT04NjQwMDsNCkNvbnRlbnQtU2VjdXJpdHktUG9saWN5LVJlcG9ydC1Pbmx5OiBkZWZhdWx0LXNyYyBodHRwczo7IHNjcmlwdC1zcmMgaHR0cHM6ICd1bnNhZmUtZXZhbCcgJ3Vuc2FmZS1pbmxpbmUnOyBzdHlsZS1zcmMgaHR0cHM6ICd1bnNhZmUtaW5saW5lJzsgaW1nLXNyYyBodHRwczogZGF0YTo7IGZvbnQtc3JjIGh0dHBzOiBkYXRhOjsgcmVwb3J0LXVyaSAvY3NwLXJlcG9ydA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>CgphcHAKICAgIC5mYWN0b3J5KCdCb29raW5nUHJlcGFyZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvcHVibGljL2Jvb2tpbmcnLCB7fSwge30pOwogICAgfSk7CgphcHAKICAgIC5mYWN0b3J5KCdCb29raW5nQ29uZmlybScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvcHVibGljL3JvZ2VyJywge30sIHsKICAgICAgICAgICAgJ2dldCc6IHttZXRob2Q6ICdHRVQnLCBwYXJhbXM6IHt9LCBpc0FycmF5OiBmYWxzZX0KICAgICAgICB9KTsKICAgIH0pOwoKYXBwCiAgICAuZmFjdG9yeSgnQm9va2luZycsIGZ1bmN0aW9uIEF1dGgoJHJvb3RTY29wZSwgQm9va2luZ1ByZXBhcmUsIEJvb2tpbmdDb25maXJtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYm9va2luZzogZnVuY3Rpb24gKG9yZGVyLCBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgdmFyIGNiID0gY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wOwoKICAgICAgICAgICAgICAgIHJldHVybiBCb29raW5nUHJlcGFyZS5zYXZlKG9yZGVyLAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKG9yZGVyKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycik7CiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS4kcHJvbWlzZTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGNvbmZpcm06IGZ1bmN0aW9uIChrZXksIGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICB2YXIgY2IgPSBjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3A7CgogICAgICAgICAgICAgICAgcmV0dXJuIEJvb2tpbmdDb25maXJtLmdldChrZXksCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihlcnIpOwogICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSkuJHByb21pc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfSk7CgpGQiA9IG51bGw7CihmdW5jdGlvbihkLCBzLCBpZCkgewogIHZhciBqcywgZmpzID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTsKICAvL2lmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkgcmV0dXJuOwogIGpzID0gZC5jcmVhdGVFbGVtZW50KHMpOyBqcy5pZCA9IGlkOwogIGpzLnNyYyA9ICIvL2Nvbm5lY3QuZmFjZWJvb2submV0L3J1X1JVL3Nkay5qcyN4ZmJtbD0xJnZlcnNpb249djIuOCI7CiAgZmpzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLCBmanMpOwp9KGRvY3VtZW50LCAnc2NyaXB0JywgJ2ZhY2Vib29rLWpzc2RrJykpOwphcHAKICAgIC5mYWN0b3J5KCdTdWNjZXNzUGF5JywgZnVuY3Rpb24gKCRyZXNvdXJjZSkgewogICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9wdWJsaWMvc3VjY2Vzc1BheScsIHt9LCB7fSkKICAgIH0pOwoKYXBwCiAgICAuZmFjdG9yeSgnRmFpbFBheScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvcHVibGljL2ZhaWxQYXknLCB7fSwge30pCiAgICB9KTsKCgphcHAKICAgIC5mYWN0b3J5KCdUYWdTZXJ2aWNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkgewogICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS92aWRlby90YWdzJywge30sIHsKICAgICAgICAgICAgJ2dldCc6IHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsIHBhcmFtczoge30sIGlzQXJyYXk6IHRydWUsCiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1SZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICBkYXRhID0gYW5ndWxhci5mcm9tSnNvbihkYXRhKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CgoKYXBwCiAgICAuZmFjdG9yeSgnVmlkZW9TZXJ2aWNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkgewogICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS92aWRlby9maWxlTmFtZScsIHt9LCB7fSkKICAgIH0pCiAgICAuZmFjdG9yeSgnVmlkZW9VcGRhdGVOb3RlcycsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvdmlkZW8vbm90ZXMnLCB7fSwgewogICAgICAgICAgICAndXBkYXRlJzoge21ldGhvZDogJ1BPU1QnfQogICAgICAgIH0pOwogICAgfSkKICAgIC5mYWN0b3J5KCdWaWRlb1VwZGF0ZU5vdGVzJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkgewogICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS92aWRlby9ub3RlcycsIHt9LCB7CiAgICAgICAgICAgICd1cGRhdGUnOiB7bWV0aG9kOiAnUE9TVCd9CiAgICAgICAgfSk7CiAgICB9KQogICAgLmZhY3RvcnkoJ1ZpZGVvQ3JlYXRlZENvbW1lbnQnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7CiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL3ZpZGVvL2NyZWF0ZWRDb21tZW50Jywge30sIHsKICAgICAgICAgICAgJ3VwZGF0ZSc6IHttZXRob2Q6ICdQT1NUJ30KICAgICAgICB9KTsKICAgIH0pCiAgICAuZmFjdG9yeSgnVmlkZW9TZXRQcml2YXRlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkgewogICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS92aWRlby9zZXRQcml2YXRlJywge30sIHsKICAgICAgICAgICAgJ3VwZGF0ZSc6IHttZXRob2Q6ICdQT1NUJ30KICAgICAgICB9KTsKICAgIH0pCi5mYWN0b3J5KCdWaWRlb1NldFByaXZhdGVCeU9yZGVySWQnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7CiAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL3ZpZGVvL3NldFByaXZhdGVCeU9yZGVySWQnLCB7fSwge30pOwogICAgfSkKICAgIC5mYWN0b3J5KCdWaWRlb0luc2lnaHQnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7CiAgICAgICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL3ZpZGVvL2luc2lnaHRzLzppZCcpOwogICAgfSkKCiAgICAuZmFjdG9yeSgnVmlkZW9JbnNpZ2h0TmFtZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHsKICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvdmlkZW8vaW5zaWdodE5hbWUnLCB7fSwge30pCiAgICB9KQoKLmZhY3RvcnkoJ1ZpZGVvJywgZnVuY3Rpb24gVmlkZW8oVGFnU2VydmljZSwgVmlkZW9TZXJ2aWNlLCBWaWRlb1VwZGF0ZU5vdGVzLAogICAgVmlkZW9DcmVhdGVkQ29tbWVudCwgVmlkZW9TZXRQcml2YXRlLCBWaWRlb1NldFByaXZhdGVCeU9yZGVySWQsCiAgICBWaWRlb0luc2lnaHQsIFZpZGVvSW5zaWdodE5hbWUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2FkVGFnczogZnVuY3Rpb24gKHZpZGVvSWQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICB2YXIgY2IgPSBjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3A7CgogICAgICAgICAgICAgICAgcmV0dXJuIFRhZ1NlcnZpY2UuZ2V0KHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihlcnIpOwogICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSkuJHByb21pc2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxvYWRWaWRlb0ZpbGVOYW1lOiBmdW5jdGlvbiAodmlkZW9JZCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgIHZhciBjYiA9IGNhbGxiYWNrIHx8IGFuZ3VsYXIubm9vcDsKCiAgICAgICAgICAgICAgICByZXR1cm4gVmlkZW9TZXJ2aWNlLnNhdmUodmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycik7CiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS4kcHJvbWlzZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXBkYXRlVmlkZW9Ob3RlczogZnVuY3Rpb24gKHZpZGVvLCBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgdmFyIGNiID0gY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wOwoKICAgICAgICAgICAgICAgIHJldHVybiBWaWRlb1VwZGF0ZU5vdGVzLnVwZGF0ZSh2aWRlbywKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycik7CiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS4kcHJvbWlzZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdmlkZW9DcmVhdGVkQ29tbWVudDogZnVuY3Rpb24gKGNvbW1lbnQsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICB2YXIgY2IgPSBjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3A7CgogICAgICAgICAgICAgICAgcmV0dXJuIFZpZGVvQ3JlYXRlZENvbW1lbnQudXBkYXRlKGNvbW1lbnQsCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihlcnIpOwogICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSkuJHByb21pc2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldFByaXZhdGU6IGZ1bmN0aW9uICh2aWRlbywgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgIHZhciBjYiA9IGNhbGxiYWNrIHx8IGFuZ3VsYXIubm9vcDsKCiAgICAgICAgICAgICAgICByZXR1cm4gVmlkZW9TZXRQcml2YXRlLnVwZGF0ZSh2aWRlbywKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycik7CiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS4kcHJvbWlzZTsKICAgICAgICAgICAgfSwKICAgICAgICAgIHNldFByaXZhdGVCeU9yZGVySWQ6IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgIHZhciBjYiA9IGNhbGxiYWNrIHx8IGFuZ3VsYXIubm9vcDsKCiAgICAgICAgICAgIHJldHVybiBWaWRlb1NldFByaXZhdGVCeU9yZGVySWQuZ2V0KHtpZDogaWR9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpLiRwcm9taXNlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBnZXRBbGxJbnNpZ2h0czogZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICB2YXIgY2IgPSBjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3A7CgogICAgICAgICAgICAgICAgcmV0dXJuIFZpZGVvSW5zaWdodC5xdWVyeSgKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycik7CiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS4kcHJvbWlzZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0SW5zaWdodDogZnVuY3Rpb24gKGlkLCBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgdmFyIGNiID0gY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wOwoKICAgICAgICAgICAgICAgIHJldHVybiBWaWRlb0luc2lnaHQuZ2V0KHtpZDogaWR9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpLiRwcm9taXNlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBnZXRJbnNpZ2h0TmFtZTogZnVuY3Rpb24gKGluc2lnaHRJZCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgIHZhciBjYiA9IGNhbGxiYWNrIHx8IGFuZ3VsYXIubm9vcDsKCiAgICAgICAgICAgICAgICByZXR1cm4gVmlkZW9JbnNpZ2h0TmFtZS5zYXZlKGluc2lnaHRJZCwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycik7CiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS4kcHJvbWlzZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2F2ZUluc2lnaHQ6IGZ1bmN0aW9uIChpbnNpZ2h0LCBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgdmFyIGNiID0gY2FsbGJhY2sgfHwgYW5ndWxhci5ub29wOwoKICAgICAgICAgICAgICAgIHJldHVybiBWaWRlb0luc2lnaHQuc2F2ZShpbnNpZ2h0LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpLiRwcm9taXNlOwogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWxldGVJbnNpZ2h0OiBmdW5jdGlvbiAoaW5zaWdodCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgIHZhciBjYiA9IGNhbGxiYWNrIHx8IGFuZ3VsYXIubm9vcDsKCiAgICAgICAgICAgICAgICByZXR1cm4gVmlkZW9JbnNpZ2h0LmRlbGV0ZSh7aWQ6IGlkfSwKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKGVycik7CiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKS4kcHJvbWlzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwovL3ZhciB2aWRlbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwZmxiLXZpZGVvIik7CnZhciB0aW1lciA9IG51bGwsCiAgICBzdGFydFRpbWVOb3RlID0gJycsCiAgICBhcnJheVN0ZXAgPSBbXTsKLy92YXIgZnVsbGhyZWY9J3F3ZSc7Ci8vdmFyIHBhdGhQb3N0ZXIgPSBmdWxsaHJlZiArICcvYXNzZXRzL2ltYWdlcy9wcmV2aWV3X3RlbXBsYXRlLnBuZyc7CiQod2luZG93KS5iaW5kKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7Cn0pOwpTaGFyZSA9IHsKICAgIHZrb250YWt0ZTogZnVuY3Rpb24gKHB1cmwsIHB0aXRsZSwgcGltZywgdGV4dCkgewogICAgICAgIHVybCA9ICdodHRwOi8vdmtvbnRha3RlLnJ1L3NoYXJlLnBocD8nOwogICAgICAgIHVybCArPSAndXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQocHVybCk7CiAgICAgICAgdXJsICs9ICcmdGl0bGU9JyArIGVuY29kZVVSSUNvbXBvbmVudChwdGl0bGUpOwogICAgICAgIHVybCArPSAnJmRlc2NyaXB0aW9uPScgKyBlbmNvZGVVUklDb21wb25lbnQodGV4dCk7CiAgICAgICAgdXJsICs9ICcmaW1hZ2U9JyArIGVuY29kZVVSSUNvbXBvbmVudChwaW1nKTsKICAgICAgICB1cmwgKz0gJyZub3BhcnNlPXRydWUnOwogICAgICAgIFNoYXJlLnBvcHVwKHVybCk7CiAgICB9LAogICAgb2Rub2tsYXNzbmlraTogZnVuY3Rpb24gKHB1cmwsIHRleHQpIHsKICAgICAgICB1cmwgPSAnaHR0cDovL3d3dy5vZG5va2xhc3NuaWtpLnJ1L2RrP3N0LmNtZD1hZGRTaGFyZSZzdC5zPTEnOwogICAgICAgIHVybCArPSAnJnN0LmNvbW1lbnRzPScgKyBlbmNvZGVVUklDb21wb25lbnQodGV4dCk7CiAgICAgICAgdXJsICs9ICcmc3QuX3N1cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudChwdXJsKTsKICAgICAgICBTaGFyZS5wb3B1cCh1cmwpOwogICAgfSwKICAgIGZhY2Vib29rOiBmdW5jdGlvbiAocHVybCwgcHRpdGxlLCBwaW1nLCB0ZXh0KSB7CiAgICAgICAgdXJsID0gJ2h0dHA6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci5waHA/cz0xMDAnOwogICAgICAgIHVybCArPSAnJnBbdGl0bGVdPScgKyBlbmNvZGVVUklDb21wb25lbnQocHRpdGxlKTsKICAgICAgICB1cmwgKz0gJyZwW3N1bW1hcnldPScgKyBlbmNvZGVVUklDb21wb25lbnQodGV4dCk7CiAgICAgICAgdXJsICs9ICcmcFt1cmxdPScgKyBlbmNvZGVVUklDb21wb25lbnQocHVybCk7CiAgICAgICAgdXJsICs9ICcmcFtpbWFnZXNdWzBdPScgKyBlbmNvZGVVUklDb21wb25lbnQocGltZyk7CiAgICAgICAgU2hhcmUucG9wdXAodXJsKTsKICAgIH0sCiAgICB0d2l0dGVyOiBmdW5jdGlvbiAocHVybCwgcHRpdGxlKSB7CiAgICAgICAgdXJsID0gJ2h0dHA6Ly90d2l0dGVyLmNvbS9zaGFyZT8nOwogICAgICAgIHVybCArPSAndGV4dD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHB0aXRsZSk7CiAgICAgICAgdXJsICs9ICcmdXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQocHVybCk7CiAgICAgICAgdXJsICs9ICcmY291bnR1cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudChwdXJsKTsKICAgICAgICBTaGFyZS5wb3B1cCh1cmwpOwogICAgfSwKICAgIHBvcHVwOiBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgd2luZG93Lm9wZW4odXJsLCAnJywgJ3Rvb2xiYXI9MCxzdGF0dXM9MCx3aWR0aD02MjYsaGVpZ2h0PTQzNicpOwogICAgfQp9OwoKJCgnLmJ0bl9jb3B5X2Z1bGxfaHJlZicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7CiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgJCgnI2luc2lnaHQtZnVsbC1ocmVmJykuc2VsZWN0KCk7CiAgICBpZiAoZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKSkgewogICAgICAgICQoJy5ibG9ja19pbmZvX3NoYXJlJykudGV4dCgn0KHRgdGL0LvQutCwINGB0LrQvtC/0LjRgNC+0LLQsNC90LAnKTsKICAgIH0gZWxzZSB7CiAgICAgICAgJCgnLmJsb2NrX2luZm9fc2hhcmUnKS50ZXh0KCfQmtC+0L/QuNGA0L7QstCw0L3QuNC1INC90LUg0YPQtNCw0LvQvtGB0YwnKTsKICAgIH0KICAgICQoJyNibG9ja19jb3B5X2ltZycpLnJlbW92ZUNsYXNzKCdvcGVuJyk7CiAgICAkKCcuYmxvY2tfaW5mb19zaGFyZScpLmFkZENsYXNzKCdvcGVuJyk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAkKCcuYmxvY2tfaW5mb19zaGFyZScpLnJlbW92ZUNsYXNzKCdvcGVuJyk7CiAgICB9LCAyMDAwKQp9KTsKCiQoJy5jbG9zZV9idG5fc2hhcmUnKS5jbGljayhmdW5jdGlvbiAoZSkgewogICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICQoJyNibG9ja19jb3B5X2ltZycpLnJlbW92ZUNsYXNzKCdvcGVuJyk7Cn0pOwoKJCgnLmJ0bl9jbG9zZV9yaWdodF9mb3JtJykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgJCgnLnN0eWxlX2FjdGl2ZV9wYW5lbF9hYnNvbHV0ZScpLnJlbW92ZUNsYXNzKCdvcGVuJyk7Cn0pOwoKCnZhciBjdXJyZW50dXJsID0gbG9jYXRpb24uaHJlZjsKCmRvY3VtZW50LmRpc3BsYXl1cmwgPSB7J29mZnNldHVybCc6IHsndmFsdWUnOiBjdXJyZW50dXJsfX07Cgp2YXIgYXJyYXlUaW1lID0gW107CnZhciBhcnJheU5vdGUgPSBbXTsKdmFyIHNob3dfbm90ZSA9IGZhbHNlOwp2YXIgYWxsVGltZVBvaW50ID0gW107CmZ1bmN0aW9uIGluaXRfc3VwX3ZpZGVvKCkgewogICAgYXJyYXlUaW1lID0gW107CiAgICBhcnJheU5vdGUgPSBbXTsKICAgIGFsbFRpbWVQb2ludCA9IFtdOwogICAgJCgnW2RhdGEtcm91dGVyPSJhcnRpY2xlIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYXJyYXlBbGxUaW1lRnJvbSA9ICQodGhpcykuZGF0YSgnaW50ZXJ2YWwtZnJvbScpOwogICAgICAgIHZhciBhcnJheUFsbFRpbWVUbyA9ICQodGhpcykuZGF0YSgnaW50ZXJ2YWwtdG8nKTsKICAgICAgICB2YXIgYXQxLCBhdDI7CiAgICAgICAgaWYgKGFycmF5QWxsVGltZUZyb20pIHsKICAgICAgICAgICAgYXQxID0gTnVtYmVyKGFycmF5QWxsVGltZUZyb20uc3BsaXQoJzonKVswXSkgKiA2MCArIE51bWJlcihhcnJheUFsbFRpbWVGcm9tLnNwbGl0KCc6JylbMV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGF0MSA9IDA7CiAgICAgICAgfQogICAgICAgIGlmIChhcnJheUFsbFRpbWVUbykgewogICAgICAgICAgICBhdDIgPSBOdW1iZXIoYXJyYXlBbGxUaW1lVG8uc3BsaXQoJzonKVswXSkgKiA2MCArIE51bWJlcihhcnJheUFsbFRpbWVUby5zcGxpdCgnOicpWzFdKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhdDIgPSAwOwogICAgICAgIH0KICAgICAgICBhcnJheVRpbWUucHVzaCh7c3RhcnRfdGltZTogYXQxLCBlbmRfdGltZTogYXQyLCAkdGhpczogJCh0aGlzKX0pOwogICAgfSk7CiAgICAvLyDRgNCw0YHQutC+0LzQtdC90YLQuNGA0L7QstCw0YLRjCDQtNC70Y8g0LjQt9C80LXQvdC10L3QuNGPINCy0YDQtdC80LXQvdC4INC/0YDQuCDQvtGC0LrRgNGL0YLQvtC5INC30LDQvNC10YLQutC4CiAgICAvKiQoJyNwZmxiLXZpZGVvJykub24oJ3RpbWV1cGRhdGUnLCBmdW5jdGlvbiAoZSkgewogICAgIGlmIChzaG93X25vdGUpIHsKICAgICB1cGRhdGVOb3RlKCQodGhpcylbMF0uZ2V0Q3VycmVudFRpbWUoKSk7CiAgICAgfQogICAgIH0pOyovCgp9CmZ1bmN0aW9uIGxvYWRWaWRlb1BsYXllcihvYmopIHsKICAgIGFycmF5Tm90ZSA9IG9iajsKCiAgICBmdW5jdGlvbiBzb3J0Tm90ZShhLCBiKSB7CiAgICAgICAgaWYgKGEuc3RyaW5nU3RhcnRTZWNvbmQgPiBiLnN0cmluZ1N0YXJ0U2Vjb25kKSByZXR1cm4gMTsKICAgICAgICBpZiAoYS5zdHJpbmdTdGFydFNlY29uZCA8IGIuc3RyaW5nU3RhcnRTZWNvbmQpIHJldHVybiAtMTsKICAgIH0KCiAgICB2YXIgYWxsVGltZSA9ICQoJyNwZmxiLXZpZGVvJylbMF0uZ2V0RHVyYXRpb24oKTsKICAgIHZhciBhbGxIdG1sUG9pbnQgPSAnJzsKICAgIGlmIChhcnJheU5vdGUgJiYgYXJyYXlOb3RlLmxlbmd0aCA+IDApIHsKICAgICAgICBhcnJheU5vdGUuc29ydChzb3J0Tm90ZSk7CiAgICAgICAgaWYgKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigndmlkZW8tZW1iZWQnKSA9PSAtMSkgewogICAgICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IG9iai5sZW5ndGg7IG4rKykgewogICAgICAgICAgICAgICAgYWxsVGltZVBvaW50LnB1c2goe3RpbWU6IG9ialtuXS5zdHJpbmdTdGFydFNlY29uZCAqIDEwMCAvIGFsbFRpbWUsIGVsOiAkKG9ialtuXS4kdGhpcyl9KTsKICAgICAgICAgICAgICAgIGFsbEh0bWxQb2ludCArPSAnPHNwYW4gY2xhc3M9InV4Y19wb2ludF9ub3RlIGFmdGVyIiBkYXRhX251bV9wb2ludD0iW25dIiBzdHlsZT0ibGVmdDonICsgb2JqW25dLnN0cmluZ1N0YXJ0U2Vjb25kICogMTAwIC8gYWxsVGltZSArICclIj48L3NwYW4+JwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICQoJy51eGNfcG9pbnRfbm90ZScpLnJlbW92ZSgpOwogICAgfQogICAgZm9yICh2YXIgbiA9IDA7IG4gPCBhcnJheVRpbWUubGVuZ3RoOyBuKyspIHsKICAgICAgICBhbGxUaW1lUG9pbnQucHVzaCh7dGltZTogYXJyYXlUaW1lW25dLnN0YXJ0X3RpbWUgKiAxMDAgLyBhbGxUaW1lLCBlbDogJChhcnJheVRpbWVbbl0uJHRoaXMpfSk7CiAgICAgICAgYWxsSHRtbFBvaW50ICs9ICc8c3BhbiBjbGFzcz0idXhjX3BvaW50X3Rhc2sgJyArIChuID09IDAgPyAiY2lyY2xlIiA6ICIiKSArICcgYWZ0ZXIiIGRhdGFfbnVtX3BvaW50PSJbbl0iIHN0eWxlPSJsZWZ0OicgKyBhcnJheVRpbWVbbl0uc3RhcnRfdGltZSAqIDEwMCAvIGFsbFRpbWUgKyAnJSI+PC9zcGFuPicKICAgIH0KICAgICQoJy51eGNfcG9pbnRfdGFzaycpLnJlbW92ZSgpOwoKICAgIHZhciBjb250YWluZXJfcG9pbnQgPSAkKCcudXhjX190aW1lLXRvdGFsJyk7CiAgICBjb250YWluZXJfcG9pbnQuYXBwZW5kKGFsbEh0bWxQb2ludCk7CgogICAgJCgnLmR1cmF0aW9uX3N0ZXAnKS50ZXh0KG5ldyBEYXRlKGFsbFRpbWUqMTAwMCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdydS1SVScseyB0aW1lWm9uZTogJ1VUQyd9KSk7Cn0KdmFyIGkgPSAwOwpmdW5jdGlvbiBhY3RpdmVfdGltZSgpIHsKICAgIGlmICgkKCcjcGZsYi12aWRlbycpLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgdGltZSA9ICQoJyNwZmxiLXZpZGVvJylbMF0uZ2V0Q3VycmVudFRpbWUoKTsKICAgICAgICBmb3IgKHZhciBpIGluIGFycmF5VGltZSkgewogICAgICAgICAgICBpZiAoYXJyYXlUaW1lW2ldLnN0YXJ0X3RpbWUgPCBhcnJheVRpbWVbaV0uZW5kX3RpbWUpIHsKICAgICAgICAgICAgICAgIGlmICh0aW1lID4gYXJyYXlUaW1lW2ldLnN0YXJ0X3RpbWUgJiYgdGltZSA+IGFycmF5VGltZVtpXS5lbmRfdGltZSkgewogICAgICAgICAgICAgICAgICAgICQoJy51eGNfcG9pbnRfdGFzay5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYmVmb3JlJyk7CiAgICAgICAgICAgICAgICAgICAgJCgnLnV4Y19wb2ludF90YXNrOmVxKCcgKyBpICsgJyknKS5yZW1vdmVDbGFzcygnYWZ0ZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuYWRkQ2xhc3MoJ2JlZm9yZScpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGltZSA8IGFycmF5VGltZVtpXS5zdGFydF90aW1lICYmIHRpbWUgPCBhcnJheVRpbWVbaV0uZW5kX3RpbWUpIHsKICAgICAgICAgICAgICAgICAgICAkKCcudXhjX3BvaW50X3Rhc2suYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FmdGVyJyk7CiAgICAgICAgICAgICAgICAgICAgJCgnLnV4Y19wb2ludF90YXNrOmVxKCcgKyBpICsgJyknKS5yZW1vdmVDbGFzcygnYmVmb3JlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpLmFkZENsYXNzKCdhZnRlcicpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodGltZSA+IGFycmF5VGltZVtpXS5zdGFydF90aW1lICYmIHRpbWUgPCBhcnJheVRpbWVbaV0uZW5kX3RpbWUpIHsKICAgICAgICAgICAgICAgICAgICAkKCcuaXNfYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2lzX2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgICQoYXJyYXlUaW1lW2ldLiR0aGlzKS5hZGRDbGFzcygnaXNfYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgJCgnLnV4Y19wb2ludF90YXNrLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAkKCcudXhjX3BvaW50X3Rhc2s6ZXEoJyArIGkgKyAnKScpLnJlbW92ZUNsYXNzKCdiZWZvcmUnKS5yZW1vdmVDbGFzcygnYWZ0ZXInKS5hZGRDbGFzcygnYWN0aXZlJykKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJChhcnJheVRpbWVbaV0uJHRoaXMpLnJlbW92ZUNsYXNzKCdpc19hY3RpdmUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChhcnJheVRpbWVbaV0uZW5kX3RpbWUgPT0gMCAmJiB0aW1lID4gYXJyYXlUaW1lW2ldLnN0YXJ0X3RpbWUpIHsKICAgICAgICAgICAgICAgICAgICAkKCcuaXNfYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2lzX2FjdGl2ZScpOwogICAgICAgICAgICAgICAgICAgICQoYXJyYXlUaW1lW2ldLiR0aGlzKS5hZGRDbGFzcygnaXNfYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgJCgnLnV4Y19wb2ludF90YXNrLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAkKCcudXhjX3BvaW50X3Rhc2s6ZXEoJyArIGkgKyAnKScpLnJlbW92ZUNsYXNzKCdiZWZvcmUnKS5yZW1vdmVDbGFzcygnYWZ0ZXInKS5hZGRDbGFzcygnYWN0aXZlJykKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPCBhcnJheVRpbWVbaV0uc3RhcnRfdGltZSAmJiBhcnJheVRpbWVbaV0uZW5kX3RpbWUgPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCcudXhjX3BvaW50X3Rhc2suYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FmdGVyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy51eGNfcG9pbnRfdGFzazplcSgnICsgaSArICcpJykucmVtb3ZlQ2xhc3MoJ2JlZm9yZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5hZGRDbGFzcygnYWZ0ZXInKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBpIGluIGFycmF5Tm90ZSkgewogICAgICAgICAgICBpZiAoaSA9PSAoYXJyYXlOb3RlLmxlbmd0aCAtIDEpKSB7CiAgICAgICAgICAgICAgICBpZiAoYXJyYXlOb3RlW2ldLnN0cmluZ1N0YXJ0U2Vjb25kIDwgdGltZSkgewogICAgICAgICAgICAgICAgICAgICQoJ1tkYXRhLW9yZGVyPScgKyBhcnJheU5vdGVbaV0ub3JkZXJOdW0gKyAnXScpLmFkZENsYXNzKCdpc19hY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAkKCcudXhjX3BvaW50X25vdGU6ZXEoJyArIGkgKyAnKScpLnJlbW92ZUNsYXNzKCdhZnRlcicpLmFkZENsYXNzKCdhY3RpdmUnKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkKCdbZGF0YS1vcmRlcj0nICsgYXJyYXlOb3RlW2ldLm9yZGVyTnVtICsgJ10nKS5yZW1vdmVDbGFzcygnaXNfYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgJCgnLnV4Y19wb2ludF9ub3RlOmVxKCcgKyBpICsgJyknKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuYWRkQ2xhc3MoJ2FmdGVyJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICgoYXJyYXlOb3RlW2ldLnN0cmluZ1N0YXJ0U2Vjb25kIDw9IHRpbWUpICYmIChhcnJheU5vdGVbTnVtYmVyKGkpICsgMV0uc3RyaW5nU3RhcnRTZWNvbmQgPiB0aW1lKSkgewogICAgICAgICAgICAgICAgICAgICQoJ1tkYXRhLW9yZGVyPScgKyBhcnJheU5vdGVbaV0ub3JkZXJOdW0gKyAnXScpLmFkZENsYXNzKCdpc19hY3RpdmUnKTsKICAgICAgICAgICAgICAgICAgICAkKCcudXhjX3BvaW50X25vdGU6ZXEoJyArIGkgKyAnKScpLnJlbW92ZUNsYXNzKCdhZnRlcicpLmFkZENsYXNzKCdhY3RpdmUnKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkKCdbZGF0YS1vcmRlcj0nICsgYXJyYXlOb3RlW2ldLm9yZGVyTnVtICsgJ10nKS5yZW1vdmVDbGFzcygnaXNfYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgJCgnLnV4Y19wb2ludF9ub3RlOmVxKCcgKyBpICsgJyknKS5yZW1vdmVDbGFzcygnYWN0aXZlJykuYWRkQ2xhc3MoJ2FmdGVyJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCi8vIHBhcnNlIHRoZSB0aW1lIGhhc2ggb3V0IG9mIHRoZSBnaXZlbiB1cgpmdW5jdGlvbiByZXRyaWV2ZVRpbWVGcmFnbWVudCh1cmwpIHsKICAgIHZhciBwYWdlb2Zmc2V0ID0gMDsKICAgIHZhciBvZmZzZXR0aW1lID0gMDsKICAgIGlmICh1cmwuc3BsaXQoIiMiKVsxXSAhPSBudWxsKSB7CiAgICAgICAgcGFnZW9mZnNldCA9IHVybC5zcGxpdCgiIyIpWzFdOwogICAgICAgIGlmIChwYWdlb2Zmc2V0LnN1YnN0cmluZygyKSAhPSBudWxsKSB7CiAgICAgICAgICAgIG9mZnNldHRpbWUgPSBwYWdlb2Zmc2V0LnN1YnN0cmluZygyKTsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gb2Zmc2V0dGltZTsKfQoKCmZ1bmN0aW9uIGdldFF1ZXJ5U3RyaW5nVmFsdWUoa2V5KSB7CiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gucmVwbGFjZShuZXcgUmVnRXhwKCJeKD86LipbJlxcP10iICsgZW5jb2RlVVJJQ29tcG9uZW50KGtleSkucmVwbGFjZSgvW1wuXCtcKl0vZywgIlxcJCYiKSArICIoPzpcXD0oW14mXSopKT8pPy4qJCIsICJpIiksICIkMSIpKTsKfQoKLy8gYm9ycm93ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9uaXlhenBrL2Y4YWM2MTZmMTgxZjYwNDJkMWUwCmZ1bmN0aW9uIHVwZGF0ZVVybFBhcmFtZXRlcih1cmksIGtleSwgdmFsdWUpIHsKICAgIC8vIHJlbW92ZSB0aGUgaGFzaCBwYXJ0IGJlZm9yZSBvcGVyYXRpbmcgb24gdGhlIHVyaQogICAgdmFyCiAgICAgICAgaSA9IHVyaS5pbmRleE9mKCcjJyksCiAgICAgICAgaGFzaCA9IGkgPT09IC0xID8gJycgOiB1cmkuc3Vic3RyKGkpCiAgICAgICAgOwoKICAgIHVyaSA9IGkgPT09IC0xID8gdXJpIDogdXJpLnN1YnN0cigwLCBpKTsKCiAgICB2YXIKICAgICAgICByZSA9IG5ldyBSZWdFeHAoIihbPyZdKSIgKyBrZXkgKyAiPS4qPygmfCQpIiwgImkiKSwKICAgICAgICBzZXBhcmF0b3IgPSB1cmkuaW5kZXhPZignPycpICE9PSAtMSA/ICImIiA6ICI/IgogICAgICAgIDsKCiAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgLy8gcmVtb3ZlIGtleS12YWx1ZSBwYWlyIGlmIHZhbHVlIGlzIGVtcHR5CiAgICAgICAgdXJpID0gdXJpLnJlcGxhY2UobmV3IFJlZ0V4cCgiKFs/Jl0/KSIgKyBrZXkgKyAiPVteJl0qIiwgImkiKSwgJycpOwoKICAgICAgICBpZiAodXJpLnNsaWNlKC0xKSA9PT0gJz8nKSB7CiAgICAgICAgICAgIHVyaSA9IHVyaS5zbGljZSgwLCAtMSk7CiAgICAgICAgfQogICAgICAgIC8vIHJlcGxhY2UgZmlyc3Qgb2NjdXJyZW5jZSBvZiAmIGJ5ID8gaWYgbm8gPyBpcyBwcmVzZW50CgogICAgICAgIGlmICh1cmkuaW5kZXhPZignPycpID09PSAtMSkgewogICAgICAgICAgICB1cmkgPSB1cmkucmVwbGFjZSgvJi8sICc/Jyk7CiAgICAgICAgfQoKICAgIH0gZWxzZSBpZiAodXJpLm1hdGNoKHJlKSkgewogICAgICAgIHVyaSA9IHVyaS5yZXBsYWNlKHJlLCAnJDEnICsga2V5ICsgIj0iICsgdmFsdWUgKyAnJDInKTsKICAgIH0gZWxzZSB7CiAgICAgICAgdXJpID0gdXJpICsgc2VwYXJhdG9yICsga2V5ICsgIj0iICsgdmFsdWU7CiAgICB9CiAgICByZXR1cm4gdXJpICsgaGFzaDsKfQoKdmFyIGxhbmcgPSBnZXRRdWVyeVN0cmluZ1ZhbHVlKCdsYW5nJykgfHwgJ2VuJywKICAgIHN0cmV0Y2hpbmcgPSBnZXRRdWVyeVN0cmluZ1ZhbHVlKCdzdHJldGNoaW5nJykgfHwgJ2F1dG8nCiAgICA7CgokKCdzZWxlY3RbbmFtZT1zb3VyY2VzXScpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICB2YXIKICAgICAgICBfdGhpcyA9ICQodGhpcyksCiAgICAgICAgbWVkaWEgPSBfdGhpcy5jbG9zZXN0KCcucGxheWVycycpLmZpbmQoJy5tZWRpYS13cmFwcGVyJykuY2hpbGRyZW4oJ2RpdjpmaXJzdCcpLmF0dHIoJ2lkJyksCiAgICAgICAgcGxheWVyID0gbWVqcy5wbGF5ZXJzW21lZGlhXTsKCiAgICBwbGF5ZXIuc2V0U3JjKF90aGlzLnZhbCgpLnJlcGxhY2UoJyZhbXA7JywgJyYnKSk7CiAgICBwbGF5ZXIubG9hZCgpOwoKICAgIHZhciByZW5kZXJlciA9ICQoJyMnICsgcGxheWVyLm1lZGlhLmlkICsgJy1yZW5kZXJuYW1lJyk7CiAgICByZW5kZXJlci5maW5kKCcuc3JjJykuaHRtbCgnPGEgaHJlZj0iJyArIF90aGlzLnZhbCgpICsgJyIgdGFyZ2V0PSJfYmxhbmsiPicgKyBfdGhpcy52YWwoKSArICc8L2E+JykKICAgICAgICAuZW5kKCkKICAgICAgICAuZmluZCgnLnJlbmRlcmVyJykuaHRtbChwbGF5ZXIubWVkaWEucmVuZGVyZXJOYW1lKQogICAgICAgIC5lbmQoKQogICAgICAgIC5maW5kKCcuZXJyb3InKS5odG1sKCcnKQogICAgOwoKfSk7CiQoJ1tzaG93LXRhYl0nKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICQoJy5idG5fc2VsZWN0X3R5cGUuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICQodGhpcykucGFyZW50KCcuYnRuX3NlbGVjdF90eXBlJykuYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgfSkKfSk7CgpmdW5jdGlvbiBmb3JtVGltZShpbnRfb2JqKSB7CiAgICBzd2l0Y2ggKHRydWUpIHsKICAgICAgICBjYXNlIGludF9vYmogPT0gMDoKICAgICAgICAgICAgcmV0dXJuICcwMCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgKGludF9vYmogPiAwICYmIGludF9vYmogPCAxMCk6CiAgICAgICAgICAgIHJldHVybiAnMCcgKyBpbnRfb2JqOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIChpbnRfb2JqID49IDEwICk6CiAgICAgICAgICAgIHJldHVybiBpbnRfb2JqOwogICAgICAgICAgICBicmVhazsKICAgIH0KfQpmdW5jdGlvbiB1cGRhdGVOb3RlKHRpbWUpIHsKICAgIHZhciBuZXdNaW5UaW1lID0gZm9ybVRpbWUoTWF0aC5mbG9vcih0aW1lIC8gNjApKSwKICAgICAgICBuZXdTZWNUaW1lID0gZm9ybVRpbWUoTWF0aC5mbG9vcih0aW1lICUgNjApKSwKICAgICAgICBuZXdGb3JtYXRUaW1lID0gbmV3TWluVGltZSArICc6JyArIG5ld1NlY1RpbWU7CiAgICAkKCcuaGVhZGVyX21vZGFsX25vdGUgLnRpbWVfbm90ZScpLmF0dHIoewogICAgICAgICdkYXRhLWZvcm1hdFRpbWUtbm90ZXMnOiBuZXdGb3JtYXRUaW1lLAogICAgICAgICdkYXRhLXNlY1RpbWUtbm90ZXMnOiB0aW1lCiAgICB9KS50ZXh0KG5ld0Zvcm1hdFRpbWUpOwp9CmZ1bmN0aW9uIGNyZWF0ZU5vdGUodGltZSkgewogICAgJCgnLnV4Y19fcGF1c2UnKS5jbGljaygpOwogICAgdmFyIG5ld01pblRpbWUgPSBmb3JtVGltZShNYXRoLmZsb29yKHRpbWUgLyA2MCkpLAogICAgICAgIG5ld1NlY1RpbWUgPSBmb3JtVGltZShNYXRoLmZsb29yKHRpbWUgJSA2MCkpLAogICAgICAgIG5ld0Zvcm1hdFRpbWUgPSBuZXdNaW5UaW1lICsgJzonICsgbmV3U2VjVGltZTsKICAgIC8vIGlmICghc2hvd19ub3RlKSB7CiAgICAkKCcuaGVhZGVyX21vZGFsX25vdGUgLnRpbWVfbm90ZScpLmF0dHIoewogICAgICAgICdkYXRhLWZvcm1hdHRpbWUtbm90ZXMnOiBuZXdGb3JtYXRUaW1lLAogICAgICAgICdkYXRhLXNlY3RpbWUtbm90ZXMnOiB0aW1lCiAgICB9KS50ZXh0KG5ld0Zvcm1hdFRpbWUpOwovLyB9CgogICAgdmFyIGFsbFRpbWUgPSAkKCcjcGZsYi12aWRlbycpWzBdLmdldER1cmF0aW9uKCk7CiAgICB2YXIgbGVmdHB4ID0gdGltZSAqIDEwMCAvIGFsbFRpbWU7CiAgICAkKCdib2R5JykuYXBwZW5kKCc8c3R5bGU+LnN0eWxlX2FjdGl2ZV9wYW5lbF9hYnNvbHV0ZSAuaGVhZGVyX21vZGFsX25vdGUgLmJsb2NrX3RpbWVfYmFyOmFmdGVye3dpZHRoOiAnICsgbGVmdHB4ICsgJyU7fTwvc3R5bGU+Jyk7CgogICAgdmFyIGJvdHRvbSA9IDE3MDsKCiAgICBpZiAoJCh3aW5kb3cpLmhlaWdodCgpIDw9IDcxNSkgewogICAgICAgIGJvdHRvbSA9IDI3MDsKICAgIH0KCiAgICBpZiAoJCh3aW5kb3cpLmhlaWdodCgpIDw9IDYxNSkgewogICAgICAgIGJvdHRvbSA9IDM3MDsKICAgIH0KCiAgICAkKCcuc3R5bGVfYWN0aXZlX3BhbmVsX2Fic29sdXRlJykuY3NzKHsKICAgICAgICAncmlnaHQnOiAoJCgndmlkZW8nKS53aWR0aCgpIC0gKCQoJ3ZpZGVvJykud2lkdGgoKSAtIDUwKSksCiAgICAgICAgJ2JvdHRvbSc6ICgkKCd2aWRlbycpLmhlaWdodCgpIC0gKCQoJ3ZpZGVvJykuaGVpZ2h0KCkgLSBib3R0b20pKQogICAgfSkuYWRkQ2xhc3MoJ29wZW4nKTsKICAgICQoJyN0ZXh0YXJlYV9ibG9jaycpLmZvY3VzKCk7CiAgICBzaG93X25vdGUgPSB0cnVlOwogICAgJCgnLnV4Y19fYWRkbm90ZS1idXR0b24gYnV0dG9uJykuYWRkQ2xhc3MoJ2FjdGl2ZScpCn0KCiQoJy5saW5lX3BheV9idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICBzaG93X25vdGUgPSBmYWxzZTsKICAgICQoJy5zdHlsZV9hY3RpdmVfcGFuZWxfYWJzb2x1dGUnKS5yZW1vdmVDbGFzcygnb3BlbicpOwogICAgJCgnLnV4Y19fYWRkbm90ZS1idXR0b24gYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpCn0pOwokKCcuYnRuQ3JlYXRlTm90ZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgIGNyZWF0ZU5vdGUoJCgnI3BmbGItdmlkZW8nKVswXS5nZXRDdXJyZW50VGltZSgpKTsKfSk7CgpmdW5jdGlvbiBqdW1wVG9UaW1lb2Zmc2V0KHRpbWUpIHsKICAgICQoJyNwZmxiLXZpZGVvJylbMF0uc2V0Q3VycmVudFRpbWUodGltZSk7Cn0KdmFyIGFjdGl2ZV9zdGVwID0gMDsKLy8g0YDQtdC90LTQtdGAINC/0L7QtNGB0LrQsNC30LrQuCwg0LLRi9C30L7QsiDQuNC3IC9hc3NldHMvanMvbWFpbl9qcy9tZWRpYWVsZW1lbnQtYW5kLXBsYXllci5qcwpmdW5jdGlvbiByZW5kZXJIZWxwZXIocG9zLCB0aW1lKSB7CiAgICBmb3IgKHZhciBpIGluIGFycmF5VGltZSkgewogICAgICAgIGlmIChhcnJheVRpbWVbaV0uc3RhcnRfdGltZSA8IGFycmF5VGltZVtpXS5lbmRfdGltZSkgewogICAgICAgICAgICBpZiAodGltZSA+IGFycmF5VGltZVtpXS5zdGFydF90aW1lICYmIHRpbWUgPCBhcnJheVRpbWVbaV0uZW5kX3RpbWUpIHsKICAgICAgICAgICAgICAgIGFjdGl2ZV9zdGVwID0gaTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChhcnJheVRpbWVbaV0uZW5kX3RpbWUgPT0gMCAmJiB0aW1lID4gYXJyYXlUaW1lW2ldLnN0YXJ0X3RpbWUpIHsKICAgICAgICAgICAgICAgIGFjdGl2ZV9zdGVwID0gaTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGlmIChhcnJheVN0ZXAubGVuZ3RoID4gMCAmJiBhcnJheVN0ZXAubGVuZ3RoID4gKGFjdGl2ZV9zdGVwKSkgewogICAgICAgIHJldHVybiBbYXJyYXlTdGVwW2FjdGl2ZV9zdGVwXS5zdGVwLnN0ZXBEZXRhaWxzWzBdLnZhbHVlLCBhY3RpdmVfc3RlcF07CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBbXQogICAgfQp9CnZhciBpLCBjLCB5LCB2LCBzLCBuOwp2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgieW91dHViZSIpOwppZiAodi5sZW5ndGggPiAwKSB7CiAgICBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgIHMudHlwZSA9ICJ0ZXh0L2NzcyI7CiAgICBzLmlubmVySFRNTCA9ICcueW91dHViZXtiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7bWF4LXdpZHRoOjEwMCU7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpoYW5kO2N1cnNvcjpwb2ludGVyfS55b3V0dWJlIC50aHVtYntib3R0b206MDtkaXNwbGF5OmJsb2NrO2xlZnQ6MDttYXJnaW46YXV0bzttYXgtd2lkdGg6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG99LnlvdXR1YmUgLnBsYXl7ZmlsdGVyOmFscGhhKG9wYWNpdHk9ODApO29wYWNpdHk6Ljg7aGVpZ2h0Ojc3cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTM4cHg7bWFyZ2luLXRvcDotMzhweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO3dpZHRoOjc3cHg7YmFja2dyb3VuZDp1cmwoIi9hc3NldHMvaW1hZ2VzLzEucG5nIikgbm8tcmVwZWF0fSc7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHMpCn0KZm9yIChuID0gMDsgbiA8IHYubGVuZ3RoOyBuKyspIHsKICAgIHkgPSB2W25dOwogICAgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgaWYoeS5pZCA9PSAndUtMbXRxMFJqU3MnKXsKICAgICAgICBpLnNldEF0dHJpYnV0ZSgic3JjIiwgIi9hc3NldHMvaW1hZ2VzL3VzYWJpbGl0eS10ZXN0aW5nLmpwZyIpOwogICAgICAgIGkuc2V0QXR0cmlidXRlKCJhbHQiLCAi0K7Qt9Cw0LHQuNC70LjRgtC4LdGC0LXRgdGC0LjRgNC+0LLQsNC90LjQtSIpOwogICAgfWVsc2V7CiAgICAgICAgaS5zZXRBdHRyaWJ1dGUoInNyYyIsICJodHRwczovL2kueXRpbWcuY29tL3ZpLyIgKyB5LmlkICsgIi9ocWRlZmF1bHQuanBnIik7CiAgICB9CiAgICBpLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAidGh1bWIiKTsKICAgIGMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGMuc2V0QXR0cmlidXRlKCJjbGFzcyIsICJwbGF5Iik7CiAgICB5LmFwcGVuZENoaWxkKGkpOwogICAgeS5hcHBlbmRDaGlsZChjKTsKICAgIHkub25jbGljayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgICAgIGEuc2V0QXR0cmlidXRlKCJzcmMiLCAiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvIiArIHRoaXMuaWQgKyAiP3JlbD0wJmF1dG9wbGF5PTEmYXV0b2hpZGU9MSZib3JkZXI9MCZ3bW9kZT1vcGFxdWUmZW5hYmxlanNhcGk9MSIpOwogICAgICAgIGEuc2V0QXR0cmlidXRlKCJpZCIsIHRoaXMuaWQgKyAnX3V4YycpOwogICAgICAgIGEuc2V0QXR0cmlidXRlKCJhbGxvd2Z1bGxzY3JlZW4iLCB0cnVlKTsKICAgICAgICBhLnN0eWxlLndpZHRoID0gdGhpcy5zdHlsZS53aWR0aDsKICAgICAgICBhLnN0eWxlLmhlaWdodCA9IHRoaXMuc3R5bGUuaGVpZ2h0OwogICAgICAgIGEuc3R5bGUucG9zaXRpb24gPSB0aGlzLnN0eWxlLnBvc2l0aW9uOwogICAgICAgIGEuc3R5bGUudG9wID0gdGhpcy5zdHlsZS50b3A7CiAgICAgICAgYS5zdHlsZS5sZWZ0ID0gdGhpcy5zdHlsZS5sZWZ0OwogICAgICAgIGEuc3R5bGUucmlnaHQgPSB0aGlzLnN0eWxlLnJpZ2h0OwogICAgICAgIGEuc3R5bGUuYm90dG9tID0gdGhpcy5zdHlsZS5ib3R0b207CiAgICAgICAgdGhpcy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLCB0aGlzKTsKICAgICAgIC8vIG9uWW91VHViZVBsYXllckFQSVJlYWR5cygpOwogICAgfQp9CgokKCcuY2xvc2VfbW9kYWxfYnRuJykuY2xpY2soZnVuY3Rpb24gKCkgewogICQoJy5tYWluX3BhZ2VfbW9kYWxfZWxfYmcnKS5yZW1vdmVDbGFzcygnb3BlbicpOwogIC8vJCgnI3V4Y192aWRlb19leGFtcGxlJykucmVtb3ZlQ2xhc3MoJ29wZW4nKTsKICB2YXIgaWZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3V4Y192aWRlb19leGFtcGxlJyk7CiAgaWZyYW1lLnNyYyA9IGlmcmFtZS5zcmM7Cn0pOwoKLyoKJCgnLmhyZWZfZWxfdmlkZW8nKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAkKCcubWFpbl9wYWdlX21vZGFsX2VsX2JnJykuYWRkQ2xhc3MoJ29wZW4nKTsKfSk7Ki8K</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="80862328" offset="0" length="755" />
        <PacketInfo time="80862328" offset="755" length="16355" />
        <PacketInfo time="80862328" offset="17110" length="7507" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>