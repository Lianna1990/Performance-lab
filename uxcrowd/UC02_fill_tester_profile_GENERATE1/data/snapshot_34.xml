<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="34">
  <HTTPTask id="378" hostname="prod.uxcrowd.ru" path="/assets/js/main_js/main_route.js" url="https://prod.uxcrowd.ru/assets/js/main_js/main_route.js" ip="127.0.0.1" port="443" connectionId="16" origin="Primary" frame="1" startDateTime="2019-10-18T15:08:51.242+03:00" startTime="80862484" endTime="80862703">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHJvZC51eGNyb3dkLnJ1</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQ7IHJ2OjQ4LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNDguMA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cnUtUlUscnU7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9wcm9kLnV4Y3Jvd2QucnUv</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9hc3NldHMvanMvbWFpbl9qcy9tYWluX3JvdXRlLmpzIEhUVFAvMS4xDQpIb3N0OiBwcm9kLnV4Y3Jvd2QucnUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0OyBydjo0OC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzQ4LjANCkFjY2VwdDogKi8qDQpBY2NlcHQtTGFuZ3VhZ2U6IHJ1LVJVLHJ1O3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4zDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUsIGJyDQpSZWZlcmVyOiBodHRwczovL3Byb2QudXhjcm93ZC5ydS8NCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>119769</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Server" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bmdpbng=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxOCBPY3QgMjAxOSAxMjowNzoxOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD1VVEYtOA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTE5NzY5</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyNSBTZXAgMjAxOSAxNToyMTowNiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>IjVkOGI4NWUyLTFkM2Q5Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bXVzdC1yZXZhbGlkYXRl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Security-Policy-Report-Only" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGVmYXVsdC1zcmMgaHR0cHM6OyBzY3JpcHQtc3JjIGh0dHBzOiAndW5zYWZlLWV2YWwnICd1bnNhZmUtaW5saW5lJzsgc3R5bGUtc3JjIGh0dHBzOiAndW5zYWZlLWlubGluZSc7IGltZy1zcmMgaHR0cHM6IGRhdGE6OyBmb250LXNyYyBodHRwczogZGF0YTo7IHJlcG9ydC11cmkgL2NzcC1yZXBvcnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT04NjQwMDs=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Security-Policy-Report-Only" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZGVmYXVsdC1zcmMgaHR0cHM6OyBzY3JpcHQtc3JjIGh0dHBzOiAndW5zYWZlLWV2YWwnICd1bnNhZmUtaW5saW5lJzsgc3R5bGUtc3JjIGh0dHBzOiAndW5zYWZlLWlubGluZSc7IGltZy1zcmMgaHR0cHM6IGRhdGE6OyBmb250LXNyYyBodHRwczogZGF0YTo7IHJlcG9ydC11cmkgL2NzcC1yZXBvcnQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpTZXJ2ZXI6IG5naW54DQpEYXRlOiBGcmksIDE4IE9jdCAyMDE5IDEyOjA3OjE5IEdNVA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0OyBjaGFyc2V0PVVURi04DQpDb250ZW50LUxlbmd0aDogMTE5NzY5DQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpMYXN0LU1vZGlmaWVkOiBXZWQsIDI1IFNlcCAyMDE5IDE1OjIxOjA2IEdNVA0KRVRhZzogIjVkOGI4NWUyLTFkM2Q5Ig0KQ2FjaGUtQ29udHJvbDogbXVzdC1yZXZhbGlkYXRlDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KQ29udGVudC1TZWN1cml0eS1Qb2xpY3ktUmVwb3J0LU9ubHk6IGRlZmF1bHQtc3JjIGh0dHBzOjsgc2NyaXB0LXNyYyBodHRwczogJ3Vuc2FmZS1ldmFsJyAndW5zYWZlLWlubGluZSc7IHN0eWxlLXNyYyBodHRwczogJ3Vuc2FmZS1pbmxpbmUnOyBpbWctc3JjIGh0dHBzOiBkYXRhOjsgZm9udC1zcmMgaHR0cHM6IGRhdGE6OyByZXBvcnQtdXJpIC9jc3AtcmVwb3J0DQpTdHJpY3QtVHJhbnNwb3J0LVNlY3VyaXR5OiBtYXgtYWdlPTg2NDAwOw0KQ29udGVudC1TZWN1cml0eS1Qb2xpY3ktUmVwb3J0LU9ubHk6IGRlZmF1bHQtc3JjIGh0dHBzOjsgc2NyaXB0LXNyYyBodHRwczogJ3Vuc2FmZS1ldmFsJyAndW5zYWZlLWlubGluZSc7IHN0eWxlLXNyYyBodHRwczogJ3Vuc2FmZS1pbmxpbmUnOyBpbWctc3JjIGh0dHBzOiBkYXRhOjsgZm9udC1zcmMgaHR0cHM6IGRhdGE6OyByZXBvcnQtdXJpIC9jc3AtcmVwb3J0DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>dmFyIGFwcF9jYWNoZWRfcHJvdmlkZXJzID0ge307CmFwcC5jb25maWcoWwogICIkY29udHJvbGxlclByb3ZpZGVyIiwKICBmdW5jdGlvbihjb250cm9sbGVyUHJvdmlkZXIpIHsKICAgIGFwcF9jYWNoZWRfcHJvdmlkZXJzLiRjb250cm9sbGVyUHJvdmlkZXIgPSBjb250cm9sbGVyUHJvdmlkZXI7CiAgfQpdKTsKYXBwLnJ1bihbCiAgIiRyb290U2NvcGUiLAogICIkc3RhdGUiLAogICIkc3RhdGVQYXJhbXMiLAogIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zKSB7CiAgICAkcm9vdFNjb3BlLiRzdGF0ZSA9ICRzdGF0ZTsKICAgICRyb290U2NvcGUuJHN0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zOwogIH0KXSk7CmFwcC5ydW4oZnVuY3Rpb24oCiAgJHJvb3RTY29wZSwKICAkbG9jYXRpb24sCiAgJHdpbmRvdywKICAkaHR0cCwKICAkc3RhdGUsCiAgJHN0YXRlUGFyYW1zLAogICRhbmNob3JTY3JvbGwsCiAgUHJpbmNpcGFsLAogIEF1dGgsCiAgUHJvZmlsZXMsCiAgJGNvbmZpZywKICBOZ1RhYmxlUGFyYW1zLAogIFRyYW5zbGF0aW9uLAogICRsb2NhdGlvbiwKICAkYW5pbWF0ZSwKICAkdWliTW9kYWwsCiAgJHNjZQopIHsKICAvL3Byb2ZpbGluZwogIHZhciB1cGRhdGVUaXRsZSA9IGZ1bmN0aW9uKHRpdGxlKSB7CiAgICAkd2luZG93LmRvY3VtZW50LnRpdGxlID0gdGl0bGU7CiAgfTsKCiAgJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTsKCiAgd2luZG93LkludGVyY29tKCJib290IiwgewogICAgYXBwX2lkOiB3aW5kb3cuJGNvbmZpZy5pbnRlcmNvbUlkCiAgfSk7CgogICRyb290U2NvcGUuY29uZmlnID0gJGNvbmZpZzsKCiAgJHJvb3RTY29wZS5vcGVuTG9naW5Nb2RhbCA9IGZ1bmN0aW9uKAogICAgZGVmaW5lZEN1cnJlbnRTbGlkZSwKICAgIHN1Y2Nlc3NDYWxsYmFjaywKICAgIHBsYW4KICApIHsKICAgICR1aWJNb2RhbC5vcGVuKHsKICAgICAgYW5pbWF0aW9uOiB0cnVlLAogICAgICBzaXplOiAic20iLAogICAgICBvcGVuZWRDbGFzczogImVudGVyLXBvcHVwLW1vZGFsIiwKICAgICAgdGVtcGxhdGVVcmw6ICIuLi8uLi90bXBsL3RtcGxfaG9tZS9tb2RhbC1sb2dpbi5odG1sIiwKICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgJGluamVjdG9yKSB7CiAgICAgICAgdmFyICR2YWxpZGF0aW9uUHJvdmlkZXIgPSAkaW5qZWN0b3IuZ2V0KCIkdmFsaWRhdGlvbiIpOwogICAgICAgICR1aWJNb2RhbEluc3RhbmNlLnJlbmRlcmVkLnRoZW4oZnVuY3Rpb24oZWxlbWVudCkgewogICAgICAgICAgaWYgKGRlZmluZWRDdXJyZW50U2xpZGUpIHsKICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRTbGlkZSA9IGRlZmluZWRDdXJyZW50U2xpZGU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkc2NvcGUuY3VycmVudFNsaWRlID0gIm1vZGFsLWxrLWVudGVybGsiOwogICAgICAgICAgfQoKICAgICAgICAgICRzY29wZS5vcGVuU2xpZGUgPSBmdW5jdGlvbihzbGlkZU5hbWUpIHsKICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRTbGlkZSA9IHNsaWRlTmFtZTsKICAgICAgICAgIH07CiAgICAgICAgfSk7CgogICAgICAgICRzY29wZS5sb2dpbkVycm9yID0gZmFsc2U7CiAgICAgICAgaWYgKCRyb290U2NvcGUuJHN0YXRlLmN1cnJlbnQubmFtZSA9PT0gImJlY29tZS1hLXRlc3RlciIpIHsKICAgICAgICAgICRzY29wZS51c2VyUm9sZSA9ICJURVNURVIiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAiIjsKICAgICAgICB9CgogICAgICAgICRzY29wZS50YXJpZmZUeXBlID0gcGxhbiA/IHBsYW4gOiAiUFJPSkVDVCI7CgogICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICRzY29wZS51c2VyUm9sZSA9ICIiOwogICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygiY2FuY2VsIik7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICRzY29wZS5sb2dpbkVycm9yID0gZmFsc2U7CgogICAgICAgICAgJHZhbGlkYXRpb25Qcm92aWRlcgogICAgICAgICAgICAudmFsaWRhdGUoJHNjb3BlLmxvZ2luRm9ybSkKICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgQXV0aC5sb2dpbih7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogJHNjb3BlLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICRzY29wZS5wYXNzd29yZCwKICAgICAgICAgICAgICAgIHJlbWVtYmVyTWU6ICRzY29wZS5yZW1lbWJlck1lCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgcHVzaFRvRGF0YUxheWVyKHsKICAgICAgICAgICAgICAgICAgICBldmVudDogImxvZ2luX3N1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgJHNjb3BlLmF1dGhlbnRpY2F0aW9uRXJyb3IgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgZGF5cykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZXMgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKAogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuZ2V0VGltZSgpICsgZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDAKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlcyA9ICI7IGV4cGlyZXM9IiArIGRhdGUudG9VVENTdHJpbmcoKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9CiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgKyAiPSIgKyAodmFsdWUgfHwgIiIpICsgZXhwaXJlcyArICI7IHBhdGg9LyI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBzZXRDb29raWUoInVzZXJJZCIsIFN0cmluZyhhY2NvdW50LmlkKSwgMzApOwoKICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmdhKSB7CiAgICAgICAgICAgICAgICAgICAgICBnYSgiY3JlYXRlIiwgIlVBLTc2NjI4OTQxLTEiLCAiYXV0byIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBTdHJpbmcoYWNjb3VudC5pZCkKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykgewogICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKGFjY291bnQpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZS5jdXJyZW50LnBhcmVudCA9PT0gImFwcC1zaWRlLXRlc3Rlci1ob21lIikgewogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoYWNjb3VudC5yb2xlID09PSAiUk9MRV9DVVNUT01FUiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCJsaXN0LW9yZGVycyIpOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhY2NvdW50LnJvbGUgPT09ICJST0xFX1RFU1RFUiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgUHJvZmlsZXMuZ2V0UHJvZmlsZSgpLnRoZW4oZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9maWxlID0gZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5maW8gPT0gbnVsbCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUuYmlydGhkYXkgPT0gbnVsbCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUuZ2VuZGVyID09IG51bGwgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9maWxlLmVkdWNhdGlvbiA9PSBudWxsIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5pbmNvbWUgPT0gbnVsbCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2ZpbGUuc29jaWFsU3RhdHVzID09IG51bGwgfHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9maWxlLmZhbWlseVN0YXR1cyA9PSBudWxsIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvZmlsZS5raWRzID09IG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50ZXN0ZXJQcm9maWxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50ZXN0ZXJQcm9maWxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50ZXN0ZXJQcm9maWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oIm5ldy10YXNrcyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oInRlc3Rlci1wcm9maWxlIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWNjb3VudC5yb2xlID09PSAiUk9MRV9ORVdfVEVTVEVSIikgewogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oIndlbGNvbWUiKTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygiaG9tZSIpOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygiY2FuY2VsIik7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgJHNjb3BlLmF1dGhlbnRpY2F0aW9uRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLnN3aXRjaFVzZXJSb2xlID0gZnVuY3Rpb24ocm9sZSkgewogICAgICAgICAgJHNjb3BlLnVzZXJSb2xlID0gcm9sZTsKICAgICAgICAgICRzY29wZS5yZWdpc3RlckFjY291bnQgPSB7fTsKICAgICAgICB9OwogICAgICAgIGZ1bmN0aW9uIHNldEN1cnNvclBvc2l0aW9uKHBvcywgZWxlbSkgewogICAgICAgICAgZWxlbS5mb2N1cygpOwoKICAgICAgICAgIGlmIChlbGVtLnNldFNlbGVjdGlvblJhbmdlKSBlbGVtLnNldFNlbGVjdGlvblJhbmdlKHBvcywgcG9zKTsKICAgICAgICAgIGVsc2UgaWYgKGVsZW0uY3JlYXRlVGV4dFJhbmdlKSB7CiAgICAgICAgICAgIHZhciByYW5nZSA9IGVsZW0uY3JlYXRlVGV4dFJhbmdlKCk7CgogICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTsKCiAgICAgICAgICAgIHJhbmdlLm1vdmVFbmQoImNoYXJhY3RlciIsIHBvcyk7CgogICAgICAgICAgICByYW5nZS5tb3ZlU3RhcnQoImNoYXJhY3RlciIsIHBvcyk7CgogICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRzY29wZS5waG9uZU51bWJlck1hc2sgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgICAgdmFyIGVsID0gZXZlbnQudGFyZ2V0OwogICAgICAgICAgdmFyIG1hdHJpeCA9ICIrNyAoX19fKSBfX18gX19fXyIsCiAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICBkZWYgPSBtYXRyaXgucmVwbGFjZSgvXEQvZywgIiIpLAogICAgICAgICAgICB2YWwgPSBlbC52YWx1ZS5yZXBsYWNlKC9cRC9nLCAiIik7CgogICAgICAgICAgaWYgKGRlZi5sZW5ndGggPj0gdmFsLmxlbmd0aCkgdmFsID0gZGVmOwoKICAgICAgICAgIGVsLnZhbHVlID0gbWF0cml4LnJlcGxhY2UoLy4vZywgZnVuY3Rpb24oYSkgewogICAgICAgICAgICByZXR1cm4gL1tfXGRdLy50ZXN0KGEpICYmIGkgPCB2YWwubGVuZ3RoCiAgICAgICAgICAgICAgPyB2YWwuY2hhckF0KGkrKykKICAgICAgICAgICAgICA6IGkgPj0gdmFsLmxlbmd0aAogICAgICAgICAgICAgID8gIiIKICAgICAgICAgICAgICA6IGE7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSAiYmx1ciIpIHsKICAgICAgICAgICAgaWYgKGVsLnZhbHVlLmxlbmd0aCA9PSAyKSBlbC52YWx1ZSA9ICIiOwogICAgICAgICAgfSBlbHNlIHNldEN1cnNvclBvc2l0aW9uKGVsLnZhbHVlLmxlbmd0aCwgZWwpOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5yZWdpc3RlckFjY291bnQgPSB7fTsKCiAgICAgICAgJHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAkdmFsaWRhdGlvblByb3ZpZGVyCiAgICAgICAgICAgIC52YWxpZGF0ZSgkc2NvcGUucmVnaXN0ZXJGb3JtKQogICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAkc2NvcGUuZG9Ob3RNYXRjaCA9IG51bGw7CiAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gbnVsbDsKCiAgICAgICAgICAgICAgJHNjb3BlLnJlZ2lzdHJhdGlvbkVtYWlsRXhpc3RzID0gZmFsc2U7CgogICAgICAgICAgICAgICRzY29wZS5yZWdpc3RlckFjY291bnQucm9sZSA9CiAgICAgICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPT09ICJDVVNUT01FUiIKICAgICAgICAgICAgICAgICAgPyAiUk9MRV9DVVNUT01FUiIKICAgICAgICAgICAgICAgICAgOiAkc2NvcGUudXNlclJvbGUgPT09ICJURVNURVIiCiAgICAgICAgICAgICAgICAgID8gIlJPTEVfTkVXX1RFU1RFUiIKICAgICAgICAgICAgICAgICAgOiBudWxsOwogICAgICAgICAgICAgICRzY29wZS5yZWdpc3RlckFjY291bnQudGFyaWZmVHlwZSA9CiAgICAgICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPT09ICJDVVNUT01FUiIgJiYgJHNjb3BlLnRhcmlmZlR5cGU7CiAgICAgICAgICAgICAgaWYgKCRzY29wZS51c2VyUm9sZSA9PT0gIlRFU1RFUiIpIHsKICAgICAgICAgICAgICAgICRzY29wZS5yZWdpc3RlckFjY291bnQudGFyaWZmVHlwZSA9IG51bGw7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBBdXRoLmNyZWF0ZUFjY291bnQoJHNjb3BlLnJlZ2lzdGVyQWNjb3VudCkKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHB1c2hUb0RhdGFMYXllcih7CiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICJyZWdpc3RyYXRpb25fZm9ybSIKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCJjYW5jZWwiKTsKCiAgICAgICAgICAgICAgICAgICRzY29wZS5zdWNjZXNzID0gIk9LIjsKICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gbnVsbDsKICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAiT0siOwogICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN1Y2Nlc3NNZXNzYWdlID0gewogICAgICAgICAgICAgICAgICAgIGhlYWRlcjogVHJhbnNsYXRpb24udHJhbnNsYXRlKCJMQ1QuTENUMiIpLAogICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOgogICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlKCJMQ1QuTENUMyIpICsKICAgICAgICAgICAgICAgICAgICAgICI8c3Ryb25nPiIgKwogICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlZ2lzdGVyQWNjb3VudC5lbWFpbCArCiAgICAgICAgICAgICAgICAgICAgICAiPC9zdHJvbmc+LiAiICsKICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgiTENULkxDVDQiKSArCiAgICAgICAgICAgICAgICAgICAgICAiIDxzdHJvbmc+IiArCiAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGlvbi50cmFuc2xhdGUoIkxDVC5MQ1Q1IikgKwogICAgICAgICAgICAgICAgICAgICAgIjwvc3Ryb25nPiIKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAgICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBub3RpZnk6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID09ICJFX01BSUxfQUREUkVTU19BTFJFQURZX0lOX1VTRSIgfHwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID09ICJURVNURVJfVVNFUl9BTFJFQURZX0VYSVNUUyIKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsX25vdF92YWxpZCA9ICRzY29wZS5yZWdpc3RlckFjY291bnQuZW1haWw7CgogICAgICAgICAgICAgICAgICAgICRzY29wZS5yZWdpc3RyYXRpb25FbWFpbEV4aXN0cyA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICQoIi5lcnJvcnNfYmxvY2siKS5odG1sKAogICAgICAgICAgICAgICAgICAgICAgJzxwIGNsYXNzPSJlbWFpbCB2YWxpZF9lbGVtZW50Ij4nICsKICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlKCJMQ1QuTENUNiIpICsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsX25vdF92YWxpZCArCiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgiTENULkxDVDciKSArCiAgICAgICAgICAgICAgICAgICAgICAgICI8L3A+IgogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICRzY29wZS5zdWNjZXNzID0gbnVsbDsKICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gIkVSUk9SIjsKICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbigpIHt9KTsKICAgICAgICB9OwoKICAgICAgICAkc2NvcGUucmVnaXN0ZXJFYXJseUJpcmQgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICR2YWxpZGF0aW9uUHJvdmlkZXIKICAgICAgICAgICAgLnZhbGlkYXRlKCRzY29wZS5yZWdpc3RlckN1c3RvbWVyRm9ybSkKICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgJHNjb3BlLmRvTm90TWF0Y2ggPSBudWxsOwogICAgICAgICAgICAgICRzY29wZS5lcnJvciA9IG51bGw7CgogICAgICAgICAgICAgICRzY29wZS5yZWdpc3RyYXRpb25FbWFpbEV4aXN0cyA9IGZhbHNlOwoKICAgICAgICAgICAgICAkc2NvcGUucmVnaXN0ZXJBY2NvdW50LnJvbGUgPSAiUk9MRV9DVVNUT01FUiI7CiAgICAgICAgICAgICAgJGh0dHAKICAgICAgICAgICAgICAgIC5wb3N0KAogICAgICAgICAgICAgICAgICAiL2FwaS9yZWdpc3RlckVhcmx5QmlyZD90eXBlPXJlZ2lzdGVyJmN1c3RvbWVyVGFyaWZmTmFtZT1QUk9KRUNUIiwKICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlZ2lzdGVyQWNjb3VudAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Y2Nlc3MgPSAiT0siOwogICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBudWxsOwogICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9ICJPSyI7CiAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3VjY2Vzc01lc3NhZ2UgPSB7CiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBUcmFuc2xhdGlvbi50cmFuc2xhdGUoIkxDVC5MQ1QyIiksCiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246CiAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGlvbi50cmFuc2xhdGUoIkxDVC5MQ1QzIikgKwogICAgICAgICAgICAgICAgICAgICAgIjxzdHJvbmc+IiArCiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVnaXN0ZXJBY2NvdW50LmVtYWlsICsKICAgICAgICAgICAgICAgICAgICAgICI8L3N0cm9uZz4uICIgKwogICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlKCJMQ1QuTENUNCIpICsKICAgICAgICAgICAgICAgICAgICAgICIgPHN0cm9uZz4iICsKICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgiTENULkxDVDUiKSArCiAgICAgICAgICAgICAgICAgICAgICAiPC9zdHJvbmc+IgogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCJjYW5jZWwiKTsKICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAgICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICBub3RpZnk6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IHRydWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID09ICJFX01BSUxfQUREUkVTU19BTFJFQURZX0lOX1VTRSIgfHwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID09ICJURVNURVJfVVNFUl9BTFJFQURZX0VYSVNUUyIKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVtYWlsX25vdF92YWxpZCA9ICRzY29wZS5yZWdpc3RlckFjY291bnQuZW1haWw7CgogICAgICAgICAgICAgICAgICAgICRzY29wZS5yZWdpc3RyYXRpb25FbWFpbEV4aXN0cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID09ICJFX01BSUxfQUREUkVTU19BTFJFQURZX0lOX1VTRSIgfHwKICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhID09ICJURVNURVJfVVNFUl9BTFJFQURZX0VYSVNUUyIKICAgICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlZ2lzdHJhdGlvbkVtYWlsRXhpc3RzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgJHNjb3BlLnN1Y2Nlc3MgPSBudWxsOwogICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSAiRVJST1IiOwogICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKCkge30pOwogICAgICAgIH07CgogICAgICAgICRzY29wZS5wYXNzd29yZFJlc2V0ID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICR2YWxpZGF0aW9uUHJvdmlkZXIKICAgICAgICAgICAgLnZhbGlkYXRlKCRzY29wZS5yZXNldFBhc3N3b3JkRm9ybSkKICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0UGFzc3dvcmRFbWFpbE5vdEZvdW5kID0gZmFsc2U7CiAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0UGFzc3dvcmRVc2VyTm90QWN0aXZhdGVkID0gZmFsc2U7CgogICAgICAgICAgICAgIEF1dGgucmVzZXRQYXNzd29yZEluaXQoewogICAgICAgICAgICAgICAgZW1haWw6ICRzY29wZS5yZXNldEVtYWlsCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAkc2NvcGUuc3VjY2Vzc1NlbmQgPSB0cnVlOwoKICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdWNjZXNzTWVzc2FnZSA9IHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgiTENULkxDVDgiKSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjoKICAgICAgICAgICAgICAgICAgICAgICI8ZGl2PiIgKwogICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlKCJMQ1QuTENUOSIpICsKICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz0icmVkLXVuZGVybGluZSI+JyArCiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVzZXRFbWFpbCArCiAgICAgICAgICAgICAgICAgICAgICAiPC9zcGFuPiIgKwogICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlKCJMQ1QuTENUMTAiKSArCiAgICAgICAgICAgICAgICAgICAgICAiPC9kaXY+PGRpdj4iICsKICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgiTENULkxDVDExIikgKwogICAgICAgICAgICAgICAgICAgICAgIjwvZGl2PiIsCiAgICAgICAgICAgICAgICAgICAgYnRuOgogICAgICAgICAgICAgICAgICAgICAgJzxhIGNsYXNzPSJ1eGNfYnRuX2dyZWVuIGJ0biBidG4tcHJpbWFyeSBjb2wteHMtMTIiIGhyZWY9Ii8iPicgKwogICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb24udHJhbnNsYXRlKCJMQ1QuTENUMTIiKSArCiAgICAgICAgICAgICAgICAgICAgICAiPC9hPiIKICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoImNhbmNlbCIpOwoKICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCJzdWNjZXNzIiwgeyBub3RpZnk6IHRydWUgfSwgeyByZWxvYWQ6IHRydWUgfSk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICJFX01BSUxfTk9UX0ZPVU5EIikgewogICAgICAgICAgICAgICAgICAgICRzY29wZS5lbWFpbF9ub3RfdmFsaWQgPSAkc2NvcGUucmVzZXRFbWFpbDsKCiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0UGFzc3dvcmRFbWFpbE5vdEZvdW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gIlVTRVJfSVNfTk9UX0FDVElWQVRFRCIpIHsKICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVzZXRQYXNzd29yZFVzZXJOb3RBY3RpdmF0ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JTZW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oKSB7fSk7CiAgICAgICAgfTsKCiAgICAgICAgJHNjb3BlLmNsZWFuQmxvY2tFcnJvciA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgJCgiLmVycm9yc19ibG9jayIpLmh0bWwoIiIpOwogICAgICAgIH07CiAgICAgIH0KICAgIH0pOwogIH07CiAgJHJvb3RTY29wZS55b3V0dWJlSW50cm9Bc0VtYmVkID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdmlkZW9JZCA9ICRjb25maWcuaW50cm9WaWRlb0lkOwogICAgdmFyIHBhcmFtcyA9CiAgICAgICI/cmVsPTAmYW1wO2F1dG9wbGF5PTAmYW1wO2F1dG9oaWRlPTEmYW1wO2JvcmRlcj0wJmFtcDt3bW9kZT1vcGFxdWUmYW1wO2VuYWJsZWpzYXBpPTEiOwogICAgdmFyIHlvdXR1YmVVUkwgPSAiaHR0cHM6Ly93d3cueW91dHViZS5jb20iOwogICAgdmFyIGlzRW1iZWQgPSAiL2VtYmVkLyI7CiAgICByZXR1cm4gJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwoeW91dHViZVVSTCArIGlzRW1iZWQgKyB2aWRlb0lkICsgcGFyYW1zKTsKICB9OwogIHZhciBjdXJyZW50VXJsID0KICAgICRjb25maWcucHJvZmlsZUlkID09ICJkZXYiCiAgICAgID8gJGxvY2F0aW9uLnByb3RvY29sKCkgKyAiOi8vIiArICRsb2NhdGlvbi5ob3N0KCkgKyAiOiIgKyAkbG9jYXRpb24uJCRwb3J0CiAgICAgIDogJGxvY2F0aW9uLnByb3RvY29sKCkgKyAiOi8vIiArICRsb2NhdGlvbi5ob3N0KCk7CiAgaWYgKGN1cnJlbnRVcmwgPT0gJGNvbmZpZy5mdWxsVXJsRW4pIHsKICAgICRjb25maWcuZnVsbFVybCA9ICRjb25maWcuZnVsbFVybEVuOwogICAgJGNvbmZpZy5sb2NhbGUgPSAiZW4iOwogIH0gZWxzZSB7CiAgICAkY29uZmlnLmZ1bGxVcmwgPSAkY29uZmlnLmZ1bGxVcmxSdTsKICAgICRjb25maWcubG9jYWxlID0gInJ1IjsKICB9CiAgaWYgKCRjb25maWcubG9jYWxlICE9IG51bGwpIHsKICAgIGxhbmcgPSAkY29uZmlnLmxvY2FsZTsKICB9IGVsc2UgewogICAgbGFuZyA9ICJydSI7CiAgfQoKICAkcm9vdFNjb3BlLnNlbGVjdGVkTGFuZ3VhZ2UgPSBsYW5nOwogICRjb25maWcubGFuZyA9IGxhbmc7CgogIC8vIFRyYW5zbGF0aW9uLmdldFRyYW5zbGF0aW9uKCRjb25maWcubGFuZykKICAvLyAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHsKICAvLyAgICAgICAgICRjb25maWcudHJhbnNsYXRpb24gPSBkYXRhOwogIC8vICAgICB9KQogIC8vICAgICAuZXJyb3IoZnVuY3Rpb24gKCkgewogIC8vICAgICAgICAgY29uc29sZS5lcnJvcihgQ2Fubm90IGxvYWQgdHJhbnNsYXRpb24gZnJvbSAiJHsgJGNvbmZpZy5sYW5nIH0uanNvbiIgZmlsZSA6KGApCiAgLy8gICAgIH0pOwoKICAkLmFqYXgoewogICAgdXJsOiAiYXNzZXRzL2xhbmcvIiArICRjb25maWcubGFuZyArICIuanNvbiIsCiAgICBhc3luYzogZmFsc2UsCiAgICBkYXRhVHlwZTogImpzb24iLAogICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgJGNvbmZpZy50cmFuc2xhdGlvbiA9IHJlc3BvbnNlOwogICAgfSwKICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgY29uc29sZS5lcnJvcigKICAgICAgICAnQ2Fubm90IGxvYWQgdHJhbnNsYXRpb24gZnJvbSAiJyArICRjb25maWcubGFuZyArICcuanNvbiIgZmlsZSA6KCcKICAgICAgKTsKICAgIH0KICB9KTsKCiAgTmdUYWJsZVBhcmFtcy5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24oYXNTdHJpbmcpIHsKICAgIGFzU3RyaW5nID0gYXNTdHJpbmcgfHwgZmFsc2U7CiAgICB2YXIgcGFpcnMgPSBhc1N0cmluZyA/IFtdIDoge307CiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5fcGFyYW1zKSB7CiAgICAgIGlmICh0aGlzLl9wYXJhbXMuaGFzT3duUHJvcGVydHkoa2V5KSkgewogICAgICAgIHZhciBpdGVtID0gdGhpcy5fcGFyYW1zW2tleV0sCiAgICAgICAgICBuYW1lID0gZXh0cmFjdE5hbWUoa2V5KTsKICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICJvYmplY3QiKSB7CiAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gaXRlbSkgewogICAgICAgICAgICBpZiAoaXNTaWduaWZpY2FudFZhbHVlKGl0ZW1bc3Via2V5XSwga2V5KSkgewogICAgICAgICAgICAgIHZhciBwbmFtZSA9IHN1YmtleTsKICAgICAgICAgICAgICBjb2xsZWN0VmFsdWUoaXRlbVtzdWJrZXldLCBwbmFtZSwga2V5KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoaXNTaWduaWZpY2FudFZhbHVlKGl0ZW0sIGtleSkpIHsKICAgICAgICAgIGNvbGxlY3RWYWx1ZShpdGVtLCBuYW1lKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBwYWlyczsKCiAgICBmdW5jdGlvbiBleHRyYWN0TmFtZShrZXkpIHsKICAgICAgdmFyIG5hbWUgPSAiIjsKICAgICAgaWYgKGtleSA9PSAiY291bnQiKSB7CiAgICAgICAgbmFtZSA9ICJzaXplIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBuYW1lID0ga2V5OwogICAgICB9CgogICAgICByZXR1cm4gbmFtZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjb2xsZWN0VmFsdWUodmFsdWUsIGtleSwgZ2xvYmFsS2V5KSB7CiAgICAgIGlmIChpc0FycmF5KHBhaXJzKSkgewogICAgICAgIHBhaXJzLnB1c2goa2V5ICsgIj0iICsgdmFsdWUpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChrZXkgPT0gImNvdW50IikgewogICAgICAgICAga2V5ID0gInNpemUiOwogICAgICAgICAgdmFsdWUgPSB2YWx1ZSAtIDE7CiAgICAgICAgfQogICAgICAgIGlmIChrZXkgPT0gInBhZ2UiKSB7CiAgICAgICAgICB2YWx1ZSA9IHZhbHVlIC0gMTsKICAgICAgICB9CiAgICAgICAgaWYgKGdsb2JhbEtleSA9PSAic29ydGluZyIpIHsKICAgICAgICAgIHZhbHVlID0ga2V5ICsgIiwiICsgdmFsdWU7CiAgICAgICAgICBwYWlyc1sic29ydCJdID0gdmFsdWU7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHBhaXJzW2tleV0gPSB2YWx1ZTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGlzQXJyYXkocGFpcnMpIHsKICAgICAgcmV0dXJuIGFzU3RyaW5nOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzU2lnbmlmaWNhbnRWYWx1ZSh2YWx1ZSwga2V5KSB7CiAgICAgIHJldHVybiBrZXkgPT09ICJncm91cCIKICAgICAgICA/IHRydWUKICAgICAgICA6IHR5cGVvZiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSAiIjsKICAgIH0KICB9OwoKICB2YXIgc2tpcFNvbWVBc3luYyA9IGZhbHNlOwogICRyb290U2NvcGUuJG9uKCIkc3RhdGVDaGFuZ2VTdGFydCIsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1N0YXRlUGFyYW1zKSB7CiAgICAkcm9vdFNjb3BlLnRvU3RhdGUgPSB0b1N0YXRlOwogICAgJHJvb3RTY29wZS50b1N0YXRlUGFyYW1zID0gdG9TdGF0ZVBhcmFtczsKICAgIGlmIChQcmluY2lwYWwuaXNJZGVudGl0eVJlc29sdmVkKCkpIHsKICAgICAgQXV0aC5hdXRob3JpemUoKTsKICAgIH0KICB9KTsKICAkcm9vdFNjb3BlLiRvbigiJHN0YXRlQ2hhbmdlU3VjY2VzcyIsIGZ1bmN0aW9uKAogICAgZXZlbnQsCiAgICB0b1N0YXRlLAogICAgdG9QYXJhbXMsCiAgICBmcm9tU3RhdGUsCiAgICBmcm9tUGFyYW1zCiAgKSB7CiAgICB2YXIgdGl0bGVLZXkgPSAiZ2xvYmFsLnRpdGxlIjsKICAgIGlmICgkc3RhdGVQYXJhbXMuc2Nyb2xsVG8pIHsKICAgICAgJGxvY2F0aW9uLmhhc2goJHN0YXRlUGFyYW1zLnNjcm9sbFRvKTsKICAgIH0KICAgICRhbmNob3JTY3JvbGwoKTsKICAgIGlmICh0b1N0YXRlLm5hbWUgIT0gImxvZ2luIiAmJiAkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGVOYW1lKSB7CiAgICAgICRyb290U2NvcGUucHJldmlvdXNTdGF0ZU5hbWUgPSBmcm9tU3RhdGUubmFtZTsKICAgICAgJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlUGFyYW1zID0gZnJvbVBhcmFtczsKICAgIH0KICAgIGlmICh0b1N0YXRlLmRhdGEucGFnZVRpdGxlKSB7CiAgICAgIHRpdGxlS2V5ID0gVHJhbnNsYXRpb24udHJhbnNsYXRlKHRvU3RhdGUuZGF0YS5wYWdlVGl0bGUpOwogICAgfQogICAgaWYgKHRvU3RhdGUuZGF0YS5tb2JpbGVWZXJzaW9uKSB7CiAgICAgICQoIm1ldGFbbmFtZT12aWV3cG9ydF0iKS5hdHRyKAogICAgICAgICJjb250ZW50IiwKICAgICAgICAid2lkdGggPSBkZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGUgPSAxLCB1c2VyLXNjYWxhYmxlID0gbm8iCiAgICAgICk7CiAgICAgICQoImJvZHkiKQogICAgICAgIC5jc3MoewogICAgICAgICAgIm1pbi13aWR0aCI6ICIxMDAlIgogICAgICAgIH0pCiAgICAgICAgLmFkZENsYXNzKCJtb2JpbGUiKTsKICAgICAgJCgiYm9keSIpCiAgICAgICAgLmNzcyh7CiAgICAgICAgICAibWluLXdpZHRoIjogIjEwMCUiCiAgICAgICAgfSkKICAgICAgICAucmVtb3ZlQ2xhc3MoInBjIik7CiAgICB9IGVsc2UgewogICAgICAkKCJtZXRhW25hbWU9dmlld3BvcnRdIikuYXR0cigKICAgICAgICAiY29udGVudCIsCiAgICAgICAgIndpZHRoID0gZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlID0gMSwgdXNlci1zY2FsYWJsZSA9IG5vIgogICAgICApOwogICAgICAkKCJib2R5IikKICAgICAgICAuY3NzKHsKICAgICAgICAgICJtaW4td2lkdGgiOiAiMTAwJSIKICAgICAgICB9KQogICAgICAgIC5hZGRDbGFzcygicGMiKTsKICAgICAgJCgiYm9keSIpCiAgICAgICAgLmNzcyh7CiAgICAgICAgICAibWluLXdpZHRoIjogIjEwMCUiCiAgICAgICAgfSkKICAgICAgICAucmVtb3ZlQ2xhc3MoIm1vYmlsZSIpOwogICAgfQogICAgaWYgKHRvU3RhdGUuZGF0YS5ibG9nKSB7CiAgICAgICQoImJvZHkiKS5hZGRDbGFzcygiYmxvZyIpOwogICAgfSBlbHNlIHsKICAgICAgJCgiYm9keSIpLnJlbW92ZUNsYXNzKCJibG9nIik7CiAgICB9CiAgICBpZiAodG9TdGF0ZS5kYXRhLmVtYmVkKSB7CiAgICAgICQoJ1tuYW1lPSJ2aWV3cG9ydCJdJykuYXR0cih7CiAgICAgICAgY29udGVudDoKICAgICAgICAgICJ3aWR0aD0xMzAwLCBpbml0aWFsLXNjYWxlPTEsIG1heGltdW0tc2NhbGU9MSwgbWluaW11bS1zY2FsZT0wLCB1c2VyLXNjYWxhYmxlPXllcyIKICAgICAgfSk7CiAgICAgICQoImJvZHkiKS5hZGRDbGFzcygidmlkZW8tZW1iZWQiKTsKICAgIH0gZWxzZSB7CiAgICAgIHdpbmRvdy5JbnRlcmNvbSgidXBkYXRlIik7CiAgICAgIC8vIChmdW5jdGlvbih0LGEsbCxrLHUscyxlKXtpZighdFt1XSl7dFt1XT1mdW5jdGlvbigpeyh0W3VdLnE9dFt1XS5xfHxbXSkucHVzaChhcmd1bWVudHMpfSx0W3VdLmw9MSpuZXcgRGF0ZSgpO3M9YS5jcmVhdGVFbGVtZW50KGwpLGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZShsKVswXTtzLmFzeW5jPTE7cy5zcmM9aztlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHMsZSl9fSkod2luZG93LGRvY3VtZW50LCdzY3JpcHQnLCcvL3RhbGt1cy5pby9wbHVnaW4uYmV0YS5qcycsJ3RhbGt1cycpOwogICAgICAvLyBpZiAoJGNvbmZpZy5sb2NhbGUgPT0gJ3J1JykgewogICAgICAvLyB0YWxrdXMoJ2luaXQnLCAnYXF3cXZva3d2dFdRTUFGa2MnKTsKICAgICAgLy8gfQogICAgfQogICAgaWYgKHRvU3RhdGUuZGF0YS5wYWdlX3RpdGxlKSB7CiAgICAgICRyb290U2NvcGUucGFnZV90aXRsZSA9IFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSh0b1N0YXRlLmRhdGEucGFnZV90aXRsZSk7CiAgICB9IGVsc2UgewogICAgICAkcm9vdFNjb3BlLnBhZ2VfdGl0bGUgPSAiIjsKICAgIH0KCiAgICBpZiAodG9TdGF0ZS5kYXRhLm9nX2Rlc2NyaXB0aW9uKSB7CiAgICAgICRyb290U2NvcGUub2dfZGVzY3JpcHRpb24gPSBUcmFuc2xhdGlvbi50cmFuc2xhdGUoCiAgICAgICAgdG9TdGF0ZS5kYXRhLm9nX2Rlc2NyaXB0aW9uCiAgICAgICk7CiAgICAgICQoJ21ldGFbcHJvcGVydHk9Im9nOmRlc2NyaXB0aW9uIl0nKS5hdHRyKHsKICAgICAgICBjb250ZW50OiBUcmFuc2xhdGlvbi50cmFuc2xhdGUodG9TdGF0ZS5kYXRhLm9nX2Rlc2NyaXB0aW9uKQogICAgICB9KTsKICAgIH0KICAgIGlmICh0b1N0YXRlLmRhdGEuZGVzY3JpcHRpb24pIHsKICAgICAgJCgnbWV0YVtuYW1lPSJkZXNjcmlwdGlvbiJdJykuYXR0cih7CiAgICAgICAgY29udGVudDogVHJhbnNsYXRpb24udHJhbnNsYXRlKHRvU3RhdGUuZGF0YS5kZXNjcmlwdGlvbikKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHRvU3RhdGUuZGF0YS5vZ190aXRsZSkgewogICAgICAkcm9vdFNjb3BlLm9nX3RpdGxlID0gVHJhbnNsYXRpb24udHJhbnNsYXRlKHRvU3RhdGUuZGF0YS5vZ190aXRsZSk7CiAgICAgICQoJ1twcm9wZXJ0eT0ib2c6dGl0bGUiXScpLmF0dHIoewogICAgICAgIGNvbnRlbnQ6IFRyYW5zbGF0aW9uLnRyYW5zbGF0ZSh0b1N0YXRlLmRhdGEub2dfdGl0bGUpCiAgICAgIH0pOwogICAgfQogICAgJCgnW3Byb3BlcnR5PSJvZzp1cmwiXScpLmF0dHIoewogICAgICBjb250ZW50OiB3aW5kb3cuJGNvbmZpZy5mdWxsVXJsCiAgICB9KTsKICAgICQoJ1twcm9wZXJ0eT0ib2c6aW1hZ2UiXScpLmF0dHIoewogICAgICBjb250ZW50OiB3aW5kb3cuJGNvbmZpZy5mdWxsVXJsICsgIi9pbWFnZXMvbGlua19waWMucG5nIgogICAgfSk7CiAgICAkKCdbcmVsPSJpbWFnZV9zcmMiXScpLmF0dHIoewogICAgICBocmVmOiB3aW5kb3cuJGNvbmZpZy5mdWxsVXJsICsgIi9pbWFnZXMvbGlua19waWMucG5nIgogICAgfSk7CiAgICB1cGRhdGVUaXRsZSh0aXRsZUtleSk7CiAgfSk7CiAgJHJvb3RTY29wZS5iYWNrID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoCiAgICAgICRyb290U2NvcGUucHJldmlvdXNTdGF0ZU5hbWUgPT09ICJhY3RpdmF0ZSIgfHwKICAgICAgJHN0YXRlLmdldCgkcm9vdFNjb3BlLnByZXZpb3VzU3RhdGVOYW1lKSA9PT0gbnVsbAogICAgKSB7CiAgICAgICRzdGF0ZS5nbygiLyIpOwogICAgfSBlbHNlIHsKICAgICAgJHN0YXRlLmdvKCRyb290U2NvcGUucHJldmlvdXNTdGF0ZU5hbWUsICRyb290U2NvcGUucHJldmlvdXNTdGF0ZVBhcmFtcyk7CiAgICB9CiAgfTsKfSk7CmFwcC5jb25maWcoWwogICJjZnBMb2FkaW5nQmFyUHJvdmlkZXIiLAogIGZ1bmN0aW9uKGNmcExvYWRpbmdCYXJQcm92aWRlcikgewogICAgY2ZwTG9hZGluZ0JhclByb3ZpZGVyLmluY2x1ZGVTcGlubmVyID0gZmFsc2U7CiAgfQpdKTsKYXBwLmNvbmZpZyhmdW5jdGlvbigKICAkaHR0cFByb3ZpZGVyLAogICRzdGF0ZVByb3ZpZGVyLAogICR1cmxSb3V0ZXJQcm92aWRlciwKICBUcmFuc2xhdGlvblByb3ZpZGVyCikgewogICRodHRwUHJvdmlkZXIuZGVmYXVsdHMueHNyZkNvb2tpZU5hbWUgPSAiWFNSRi1UT0tFTiI7CiAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy54c3JmSGVhZGVyTmFtZSA9ICJYLVhTUkYtVE9LRU4iOwoKICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCJlcnJvckhhbmRsZXJJbnRlcmNlcHRvciIpOwogICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goImF1dGhFeHBpcmVkSW50ZXJjZXB0b3IiKTsKICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCIvIik7CiAgJHN0YXRlUHJvdmlkZXIKCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tINCe0LHRidC40LUgVVJMIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KCiAgICAuc3RhdGUoInNpdGUiLCB7CiAgICAgIGFic3RyYWN0OiB0cnVlLAogICAgICB2aWV3czogewogICAgICAgIGJvZHk6IHsKICAgICAgICAgIHRlbXBsYXRlOgogICAgICAgICAgICAnPGRpdiB1aS12aWV3PSJoZWFkZXIiIGNsYXNzPSJtYWluX2hlYWRlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJtYWluX2Jsb2NrIiBjbGFzcz0ibWFpbl9ibG9jayBmb290ZXJfdG9wX2Jsb2NrIj48L2Rpdj48ZGl2IHVpLXZpZXc9ImZvb3RlciIgY2xhc3M9Im1haW5fZm9vdGVyIj48L2Rpdj48ZGl2IHVpLXZpZXc9ImZvb3Rlcl9ibG9nIiBjbGFzcz0iZm9vdGVyX2Jsb2ciPjwvZGl2PicsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGF1dGhvcml6ZTogWwogICAgICAgICAgIkF1dGgiLAogICAgICAgICAgZnVuY3Rpb24oQXV0aCkgewogICAgICAgICAgICByZXR1cm4gQXV0aC5hdXRob3JpemUoKTsKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInNpdGUtZW1iZWQiLCB7CiAgICAgIGFic3RyYWN0OiB0cnVlLAogICAgICB2aWV3czogewogICAgICAgIGJvZHk6IHsKICAgICAgICAgIHRlbXBsYXRlOgogICAgICAgICAgICAnPGRpdiB1aS12aWV3PSJoZWFkZXIiIGNsYXNzPSJtYWluX2hlYWRlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJtYWluX2Jsb2NrIiBjbGFzcz0ibWFpbl9ibG9jayBmb290ZXJfdG9wX2Jsb2NrIj48L2Rpdj48ZGl2IHVpLXZpZXc9ImZvb3RlciIgY2xhc3M9Im1haW5fZm9vdGVyIj48L2Rpdj48ZGl2IHVpLXZpZXc9ImZvb3Rlcl9ibG9nIiBjbGFzcz0iZm9vdGVyX2Jsb2ciPjwvZGl2PicsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgibmV3c2l0ZSIsIHsKICAgICAgYWJzdHJhY3Q6IHRydWUsCiAgICAgIHZpZXdzOiB7CiAgICAgICAgYm9keTogewogICAgICAgICAgdGVtcGxhdGU6CiAgICAgICAgICAgICc8ZGl2IHVpLXZpZXc9ImhlYWRlciIgY2xhc3M9Im1haW5faGVhZGVyIj48L2Rpdj48ZGl2IHVpLXZpZXc9Im1haW5fYmxvY2siIGNsYXNzPSJuZXdfbWFpbl9ibG9jayI+PC9kaXY+PGRpdiB1aS12aWV3PSJmb290ZXIiIGNsYXNzPSJtYWluX2Zvb3RlciI+PC9kaXY+JywKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfQogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgYXV0aG9yaXplOiBbCiAgICAgICAgICAiQXV0aCIsCiAgICAgICAgICBmdW5jdGlvbihBdXRoKSB7CiAgICAgICAgICAgIHJldHVybiBBdXRoLmF1dGhvcml6ZSgpOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYWNjb3VudCIsIHsKICAgICAgYWJzdHJhY3Q6IHRydWUsCiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlOgogICAgICAgICAgICAnPGRpdiB1aS12aWV3PSJoZWFkZXIiIGNsYXNzPSJtYWluX2hlYWRlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJtYWluX2Jsb2NrIiBjbGFzcz0ibWFpbl9ibG9jayBmb290ZXJfdG9wX2Jsb2NrIj48L2Rpdj48ZGl2IHVpLXZpZXc9ImZvb3RlciIgY2xhc3M9Im1haW5fZm9vdGVyIj48L2Rpdj48ZGl2IHVpLXZpZXc9ImZvb3Rlcl9ibG9nIiBjbGFzcz0iZm9vdGVyX2Jsb2ciPjwvZGl2PicsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgibmV3X21haW5faW5kZXgiLCB7CiAgICAgIHBhcmVudDogIm5ld3NpdGUiLAogICAgICB1cmw6ICIvIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SIiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIGRlc2NyaXB0aW9uOiAiTU5SLk1OUjEiLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjIiCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvaGVhZGVyR3JlZW5XaGl0ZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L2hvbWUuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZU5ld01haW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZU5ld01haW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZU5ld01haW5Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIikKICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgibWFudWFsIiwgewogICAgICAvLyBuZXdfbGFuZGluZwogICAgICBwYXJlbnQ6ICJuZXdzaXRlIiwKICAgICAgdXJsOiAiL3VzYWJpbGl0eS10ZXN0aW5nLWd1aWRlIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMyIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZSwKICAgICAgICBvZ19kZXNjcmlwdGlvbjogIk1OUi5NTlI0IgogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L2hlYWRlcldoaXRlLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvbWFudWFsLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVCb29raW5nQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L2Zvb3RlcldoaXRlLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUxvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKSwKICAgICAgICBsb2FkSG9tZUJvb2tpbmdDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUJvb2tpbmdDb250cm9sbGVyIikKICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYWJvdXQtdXMiLCB7CiAgICAgIC8vIG5ld19sYW5kaW5nCiAgICAgIHBhcmVudDogIm5ld3NpdGUiLAogICAgICB1cmw6ICIvYWJvdXQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI1IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjYiCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvaGVhZGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvYWJvdXQuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvZm9vdGVyV2hpdGUuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpCiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImNvbnRhY3RzIiwgewogICAgICBwYXJlbnQ6ICJuZXdzaXRlIiwKICAgICAgdXJsOiAiL2NvbnRhY3RzP2FjdGlvbiZkZXNjcmlwdGlvbiIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjciLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUsCiAgICAgICAgb2dfZGVzY3JpcHRpb246ICJNTlIuTU5SOCIKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9oZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9jb250YWN0cy5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lQ29udGFjdHNDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvZm9vdGVyV2hpdGUuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRIb21lQ29udGFjdHNDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUNvbnRhY3RzQ29udHJvbGxlciIpCiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImZvcm0tbG9naW4tdmlldyIsIHsKICAgICAgcGFyZW50OiAibmV3c2l0ZSIsCiAgICAgIHVybDogIi9mb3JtLWxvZ2luLXZpZXciLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI3IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjgiCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9ncmVlbkhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvZm9ybS1sb2dpbi12aWV3Lmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVGb3JtTG9naW5WaWV3Q29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvbmV3LWZvb3Rlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfQogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEZvcm1Mb2dpblZpZXdDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJob21lRm9ybUxvZ2luVmlld0NvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJmb3JtLXJlZ2lzdGVyLXZpZXciLCB7CiAgICAgIHBhcmVudDogIm5ld3NpdGUiLAogICAgICB1cmw6ICIvZm9ybS1yZWdpc3Rlci12aWV3IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNyIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZSwKICAgICAgICBvZ19kZXNjcmlwdGlvbjogIk1OUi5NTlI4IgogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvZ3JlZW5IZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL2Zvcm0tcmVnaXN0ZXItdmlldy5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lRm9ybVJlZ2lzdGVyVmlld0NvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL25ldy1mb290ZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRGb3JtUmVnaXN0ZXJWaWV3Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiaG9tZUZvcm1SZWdpc3RlclZpZXdDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiZm9ybS1yZXN0b3JlLXZpZXciLCB7CiAgICAgIHBhcmVudDogIm5ld3NpdGUiLAogICAgICB1cmw6ICIvZm9ybS1yZXN0b3JlLXZpZXciLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI3IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjgiCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9ncmVlbkhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvZm9ybS1yZXN0b3JlLXZpZXcuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUZvcm1SZXN0b3JlVmlld0NvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL25ldy1mb290ZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRGb3JtUmVzdG9yZVZpZXdDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJob21lRm9ybVJlc3RvcmVWaWV3Q29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImJlY29tZS1hLXRlc3RlciIsIHsKICAgICAgcGFyZW50OiAibmV3c2l0ZSIsCiAgICAgIHVybDogIi90ZXN0ZXItcmVnaXN0ZXIiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI5IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjEwIgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEhvbWVUZXN0ZXJSZWdpc3RlckNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImhvbWVUZXN0ZXJSZWdpc3RlckNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L2hlYWRlcldoaXRlLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvdGVzdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVUZXN0ZXJSZWdpc3RlckNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9mb290ZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiZGl5IiwgewogICAgICBwYXJlbnQ6ICJuZXdzaXRlIiwKICAgICAgdXJsOiAiL3Byb2R1Y3QvZGl5IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTEiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUsCiAgICAgICAgb2dfZGVzY3JpcHRpb246ICJNTlIuTU5SMTIiCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS93aGl0ZUhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmcvZGl5Lmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVEaXlDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUxvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKSwKICAgICAgICBsb2FkSG9tZURpeUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lRGl5Q29udHJvbGxlciIpCiAgICAgIH0KICAgIH0pCiAgICAvKi5zdGF0ZSgnc2VydmljZScsIHsKICAgICAgICAgICAgcGFyZW50OiAnbmV3c2l0ZScsCiAgICAgICAgICAgIHVybDogJy9wcm9kdWN0L3NlcnZpY2VzJywKICAgICAgICAgICAgZGF0YTp7CiAgICAgICAgICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgICAgICAgICBwYWdlVGl0bGU6ICdNTlIuTU5SMTMnLAogICAgICAgICAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAnTU5SLk1OUjE0JwogICAgICAgICAgICB9LAogICAgICAgICAgICB2aWV3czogewogICAgICAgICAgICAgICAgJ2hlYWRlcic6IHsKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90bXBsL3RtcGxfaG9tZS9ncmVlbkhlYWRlci5odG1sJywKICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaG9tZUxvZ2luQ29udHJvbGxlcicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAnbWFpbl9ibG9jayc6IHsKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90bXBsL3RtcGxfaG9tZS9zZXJ2aWNlLmh0bWwnLAogICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICcnCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ2Zvb3Rlcic6IHsKICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwnLAogICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICcnCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc29sdmU6IHsKICAgICAgICAgICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpCiAgICAgICAgICAgIH0KICAgICAgICB9KSovCiAgICAuc3RhdGUoImFwcC1uZXctdGVzdGVyIiwgewogICAgICBhYnN0cmFjdDogdHJ1ZSwKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX05FV19URVNURVIiXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlOgogICAgICAgICAgICAnPGRpdiB1aS12aWV3PSJoZWFkZXIiPjwvZGl2PjxkaXYgdWktdmlldz0ibWFpbl9jb250ZW50X25ld190ZXN0ZXIiIGNsYXNzPSJtYWluX2NvbnRlbnRfbmV3X3Rlc3RlciI+PC9kaXY+PC9kaXY+JwogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLXNpZGUtdGVzdGVyIiwgewogICAgICBhYnN0cmFjdDogdHJ1ZSwKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZToKICAgICAgICAgICAgJzxkaXYgdWktdmlldz0iaGVhZGVyIj48L2Rpdj48ZGl2IHVpLXZpZXc9Im1haW5fY29udGVudF9zaWRlX3Rlc3RlciIgY2xhc3M9Im1haW5fY29udGVudF9uZXdfdGVzdGVyIj48L2Rpdj48ZGl2IHVpLXZpZXc9ImZvb3RlciIgY2xhc3M9Im1haW5fZm9vdGVyIGR5bmFtaWNfcGFnZSI+PC9kaXY+JwogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLW1vYmlsZS1zaWRlLXRlc3RlciIsIHsKICAgICAgYWJzdHJhY3Q6IHRydWUsCiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGU6CiAgICAgICAgICAgICc8ZGl2IHVpLXZpZXc9ImhlYWRlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJtYWluX2NvbnRlbnRfc2lkZV90ZXN0ZXIiIGNsYXNzPSJtYWluX2NvbnRlbnRfbmV3X3Rlc3RlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJmb290ZXIiIGNsYXNzPSJtYWluX2Zvb3RlciBkeW5hbWljX3BhZ2UiPjwvZGl2PicKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImFwcC1tb2JpbGUtdGVzdGVyIiwgewogICAgICBhYnN0cmFjdDogdHJ1ZSwKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1RFU1RFUiJdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGU6CiAgICAgICAgICAgICc8ZGl2IHVpLXZpZXc9ImhlYWRlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJtYWluX2NvbnRlbnRfbW9iaWxlX3Rlc3RlciIgY2xhc3M9Im1haW5fY29udGVudF9uZXdfdGVzdGVyIj48L2Rpdj4nCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhcHAtdGVzdGVyIiwgewogICAgICBhYnN0cmFjdDogdHJ1ZSwKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1RFU1RFUiJdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX3Rlc3Rlci9tYWluX3RlbXBsYXRlLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVNYWluQnJvd3NlciIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZU1haW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZU1haW5Ccm93c2VyIikKICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLWxvY2tlZC10ZXN0ZXIiLCB7CiAgICAgIGFic3RyYWN0OiB0cnVlLAogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTE9DS0VEX1RFU1RFUiJdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGU6CiAgICAgICAgICAgICc8ZGl2IHVpLXZpZXc9ImNvbnRlbnRfbG9ja2VkX3Rlc3RlciIgY2xhc3M9ImNvbnRlbnRfbG9ja2VkX3Rlc3RlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJmb290ZXIiIGNsYXNzPSJtYWluX2Zvb3RlciBkeW5hbWljX3BhZ2UiPjwvZGl2PicKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImFwcC1hZG1pbiIsIHsKICAgICAgYWJzdHJhY3Q6IHRydWUsCiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9BRE1JTiJdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGU6CiAgICAgICAgICAgICc8ZGl2IHVpLXZpZXc9ImhlYWRlciI+PC9kaXY+PGRpdiB1aS12aWV3PSJtYWluX2NvbnRlbnRfYWRtaW4iIGNsYXNzPSJtYWluX2NvbnRlbnRfYWRtaW4iPjwvZGl2PicKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImFwcC1jdXN0b21lciIsIHsKICAgICAgYWJzdHJhY3Q6IHRydWUsCiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9DVVNUT01FUiIsICJST0xFX1NVUEVSX0NVU1RPTUVSIl0KICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRDdXN0b21lckhvbWVDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiY3VzdG9tZXJIb21lQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvbWFpbl90ZW1wbGF0ZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLW1vZGVyYXRvciIsIHsKICAgICAgYWJzdHJhY3Q6IHRydWUsCiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlOgogICAgICAgICAgICAnPGRpdiB1aS12aWV3PSJoZWFkZXIiPjwvZGl2PjxkaXYgdWktdmlldz0ibWFpbl9jb250ZW50X21vZGVyYXRvciIgY2xhc3M9Im1haW5fY29udGVudF9tb2RlcmF0b3IiPjwvZGl2PjxkaXYgdWktdmlldz0iZm9vdGVyIiBjbGFzcz0ibWFpbl9mb290ZXIgZHluYW1pY19wYWdlIj48L2Rpdj4nCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJzbGlkZXIiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvc2xpZGVyPzpjb3VudCZjYSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjE1IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZVNsaWRlckNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lU2xpZGVyQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvc2xpZGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVTbGlkZXJDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9ncmVlbkhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJ3ZWJmbG93IiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL3Byb2R1Y3Qvd2Vic2l0ZS10ZXN0aW5nIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTYiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUsCiAgICAgICAgZGVzY3JpcHRpb246ICJNTlIuTU5SMTciLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjE4IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL3doaXRlSGVhZGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZy93ZWJzaXRlLXRlc3RpbmcuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImhvbWUiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvaG9tZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjE5IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZU1haW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZU1haW5Db250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvZW1wdHkuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZU1haW5Db250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiY29uZmlybSIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi9yb2dlcj9ib29raW5nSWQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIyMCIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZExvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIC8qJ3RvcE1lbnUnOiB7CiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzY3JpcHRzL2FwcC1ob21lL2Jvb2tpbmcvY29uZmlybS9jb25maXJtLmh0bWwnLAogICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdCb29raW5nQ29uZmlybUNvbnRyb2xsZXInCiAgICAgICAgICAgICAgICAgfSwqLwogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS9oZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvY29uZmlybS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lQ29uZmlybUNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL25ldy1mb290ZXIuaHRtbCIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImJsb2ciLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvYmxvZyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMjEiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUsCiAgICAgICAgYmxvZzogdHJ1ZSwKICAgICAgICBvZ19kZXNjcmlwdGlvbjogIk1OUi5NTlIyMiIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVCbG9nQ29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUJsb2dDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUJsb2dDb250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL2Jsb2cuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUJsb2dDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyX2Jsb2c6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL2Zvb3RlckJsb2cuaHRtbCIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImJsb2ctZW50cnktbmV3IiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL2Jsb2cvYmxvZy1lbnRyeS1uZXciLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXSwKICAgICAgICBibG9nOiB0cnVlLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIyMyIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVCbG9nRW50cnlOZXdDb250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lQmxvZ0VudHJ5TmV3Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiaG9tZUJsb2dFbnRyeU5ld0NvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvYmxvZy1lbnRyeS1uZXcuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUJsb2dFbnRyeU5ld0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJibG9nLWVudHJ5IiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL2Jsb2cvcmVhZC86bmFtZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMjQiLAogICAgICAgIGJsb2c6IHRydWUsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZQogICAgICB9LAogICAgICBjb250cm9sbGVyOiAiaG9tZUJsb2dQb3N0Q29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUJsb2dQb3N0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVCbG9nUG9zdENvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvYmxvZy1lbnRyeS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lQmxvZ1Bvc3RDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyX2Jsb2c6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL2Zvb3RlckJsb2cuaHRtbCIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImJsb2ctZW50cnktZWRpdCIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi9ibG9nL2VkaXQvOm5hbWUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXSwKICAgICAgICBibG9nOiB0cnVlLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIyNSIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVCbG9nRW50cnlOZXdDb250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lQmxvZ0VudHJ5TmV3Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiaG9tZUJsb2dFbnRyeU5ld0NvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvYmxvZy1lbnRyeS1uZXcuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUJsb2dFbnRyeU5ld0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC5zdGF0ZSgidmlkZW8iLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvdmlkZW8/OnZpZGVvSWQmdCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjI2IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9Db250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lVmlkZW9Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZVZpZGVvQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpLAogICAgICAgIHJlZGlyZWN0OiBbCiAgICAgICAgICAiJHN0YXRlIiwKICAgICAgICAgICIkc3RhdGVQYXJhbXMiLAogICAgICAgICAgIlByaW5jaXBhbCIsCiAgICAgICAgICBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgUHJpbmNpcGFsKSB7CiAgICAgICAgICAgIHZhciB2aWRlb0lkID0gJHN0YXRlUGFyYW1zLnZpZGVvSWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoYWNjb3VudC5yb2xlKSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfQ1VTVE9NRVIiOgogICAgICAgICAgICAgICAgICBjYXNlICJST0xFX1NVUEVSX0NVU1RPTUVSIjoKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICAgICAiYXBwLWN1c3RvbWVyLXZpZGVvIiwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfVEVTVEVSIjoKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICAgICAiYXBwLXRlc3Rlci12aWRlbyIsCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHQKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICBjYXNlICJST0xFX01PREVSQVRPUiI6CiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAgICAgImFwcC1tb2RlcmF0b3ItdmlkZW8iLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0lkOiB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgICAgICB0OiB0CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAidmlkZW8tbmV3IiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvdmlkZW8uaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZVZpZGVvQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvZ3JlZW5IZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvbmV3LWZvb3Rlci5odG1sIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgidmlkZW8tbmV3IiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL3ZpZGVvLzp2aWRlb0lkPzp0IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMjciLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lVmlkZW9Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIiksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIHZpZGVvSWQgPSAkc3RhdGVQYXJhbXMudmlkZW9JZDsKICAgICAgICAgICAgdmFyIHQgPSAkc3RhdGVQYXJhbXMudDsKICAgICAgICAgICAgUHJpbmNpcGFsLmlkZW50aXR5KCkudGhlbihmdW5jdGlvbihhY2NvdW50KSB7CiAgICAgICAgICAgICAgaWYgKGFjY291bnQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChhY2NvdW50LnJvbGUpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAiUk9MRV9DVVNUT01FUiI6CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfU1VQRVJfQ1VTVE9NRVIiOgogICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgICAgICJhcHAtY3VzdG9tZXItdmlkZW8tbmV3IiwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfVEVTVEVSIjoKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICAgICAiYXBwLXRlc3Rlci12aWRlby1uZXciLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0lkOiB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgICAgICB0OiB0CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgY2FzZSAiUk9MRV9NT0RFUkFUT1IiOgogICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgICAgICJhcHAtbW9kZXJhdG9yLXZpZGVvLW5ldyIsCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IHQKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvdmlkZW8uaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZVZpZGVvQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvZ3JlZW5IZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvbmV3LWZvb3Rlci5odG1sIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiZGVzaWduIiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL2Rlc2lnbmVycyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjI4IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjI5IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL3doaXRlSGVhZGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZy9kZXNpZ24uaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoIm1hcmtldGVycyIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi9tYXJrZXRlcnMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIzMCIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZSwKICAgICAgICBvZ19kZXNjcmlwdGlvbjogIk1OUi5NTlIzMSIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS93aGl0ZUhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmcvbWFya2V0ZXJzLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvbmV3LWZvb3Rlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJwcmljZSIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi9wcmljZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjMyIiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjMzIgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEhvbWVQcmljZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lUHJpY2VDb250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9oZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9wcmljZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lUHJpY2VDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInByb2R1Y3QiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvcHJvZHVjdC1tYW5hZ2VyIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMzQiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUsCiAgICAgICAgb2dfZGVzY3JpcHRpb246ICJNTlIuTU5SMzUiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUxvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvd2hpdGVIZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nL3Byb2R1Y3QuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImRldmVsb3BlcnMiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvZGV2ZWxvcGVycyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjM2IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIG9nX2Rlc2NyaXB0aW9uOiAiTU5SLk1OUjM3IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL3doaXRlSGVhZGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZy9kZXZlbG9wZXJzLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvbmV3LWZvb3Rlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJtb2JpbGUtdGVzdGluZyIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi9wcm9kdWN0L21vYmlsZS10ZXN0aW5nIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMzgiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUsCiAgICAgICAgb2dfZGVzY3JpcHRpb246ICJNTlIuTU5SMzkiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUxvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvd2hpdGVIZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUxvZ2luQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nL21vYmlsZS10ZXN0aW5nLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvbmV3LWZvb3Rlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJpbnNpZ2h0LXBhZ2UiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvaW5zaWdodC1wYWdlPzppbnNpZ2h0SWQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI0MCIsCiAgICAgICAgcGFnZV90aXRsZTogIk1OUi5NTlI0MSIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZQogICAgICB9LAogICAgICBjb250cm9sbGVyOiAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQ3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIKICAgICAgICApLAogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpLAogICAgICAgIHJlZGlyZWN0OiBbCiAgICAgICAgICAiJHN0YXRlIiwKICAgICAgICAgICIkc3RhdGVQYXJhbXMiLAogICAgICAgICAgIlByaW5jaXBhbCIsCiAgICAgICAgICAiJGxvY2F0aW9uIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwsICRsb2NhdGlvbikgewogICAgICAgICAgICB2YXIgaW5zaWdodElkID0gJHN0YXRlUGFyYW1zLmluc2lnaHRJZDsKICAgICAgICAgICAgdmFyIHQgPSAkc3RhdGVQYXJhbXMudDsKICAgICAgICAgICAgUHJpbmNpcGFsLmlkZW50aXR5KCkudGhlbihmdW5jdGlvbihhY2NvdW50KSB7CiAgICAgICAgICAgICAgaWYgKGFjY291bnQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChhY2NvdW50LnJvbGUpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAiUk9MRV9DVVNUT01FUiI6CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfU1VQRVJfQ1VTVE9NRVIiOgogICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgICAgICJhcHAtY3VzdG9tZXItaW5zaWdodCIsCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluc2lnaHRJZDogaW5zaWdodElkCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgY2FzZSAiUk9MRV9NT0RFUkFUT1IiOgogICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgICAgICJhcHAtbW9kZXJhdG9yLWluc2lnaHQiLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0SWQ6IGluc2lnaHRJZAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfVEVTVEVSIjoKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICAgICAiYXBwLXRlc3Rlci1pbnNpZ2h0IiwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5zaWdodElkOiBpbnNpZ2h0SWQKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJpbnNpZ2h0LXBhZ2UtbmV3IiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGluc2lnaHRJZDogaW5zaWdodElkCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvaW5zaWdodC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9ncmVlbkhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIiIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImluc2lnaHQtcGFnZS1uZXciLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvaW5zaWdodC86aW5zaWdodElkIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNDIiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNDMiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImN1c3RvbWVySW5zaWdodENvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEN1c3RvbWVySW5zaWdodENvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVySW5zaWdodENvbnRyb2xsZXIiCiAgICAgICAgKSwKICAgICAgICBsb2FkSG9tZUxvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKSwKICAgICAgICByZWRpcmVjdDogWwogICAgICAgICAgIiRzdGF0ZSIsCiAgICAgICAgICAiJHN0YXRlUGFyYW1zIiwKICAgICAgICAgICJQcmluY2lwYWwiLAogICAgICAgICAgIiRsb2NhdGlvbiIsCiAgICAgICAgICBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgUHJpbmNpcGFsLCAkbG9jYXRpb24pIHsKICAgICAgICAgICAgdmFyIGluc2lnaHRJZCA9ICRzdGF0ZVBhcmFtcy5pbnNpZ2h0SWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoYWNjb3VudC5yb2xlKSB7CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfQ1VTVE9NRVIiOgogICAgICAgICAgICAgICAgICBjYXNlICJST0xFX1NVUEVSX0NVU1RPTUVSIjoKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICAgICAiYXBwLWN1c3RvbWVyLWluc2lnaHQtbmV3IiwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5zaWdodElkOiBpbnNpZ2h0SWQKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICBjYXNlICJST0xFX01PREVSQVRPUiI6CiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAgICAgImFwcC1tb2RlcmF0b3ItaW5zaWdodC1uZXciLAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0SWQ6IGluc2lnaHRJZAogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIGNhc2UgIlJPTEVfVEVTVEVSIjoKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICAgICAiYXBwLXRlc3Rlci1pbnNpZ2h0LW5ldyIsCiAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluc2lnaHRJZDogaW5zaWdodElkCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9jdXN0b21lci9pbnNpZ2h0Lmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImN1c3RvbWVySW5zaWdodENvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL2dyZWVuSGVhZGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL25ldy1mb290ZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLWN1c3RvbWVyLWluc2lnaHQiLCB7CiAgICAgIHBhcmVudDogImFwcC1jdXN0b21lci1ob21lIiwKICAgICAgdXJsOiAiXi9pbnNpZ2h0LXBhZ2U/Omluc2lnaHRJZCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX0NVU1RPTUVSIiwgIlJPTEVfU1VQRVJfQ1VTVE9NRVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNDQiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNDUiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRDdXN0b21lckluc2lnaHRDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIGluc2lnaHRJZCA9ICRzdGF0ZVBhcmFtcy5pbnNpZ2h0SWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgImluc2lnaHQtcGFnZSIsCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0SWQ6IGluc2lnaHRJZAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJhcHAtY3VzdG9tZXItaW5zaWdodC1uZXciLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaW5zaWdodElkOiBpbnNpZ2h0SWQKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfY3VzdG9tZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2N1c3RvbWVyL2luc2lnaHQuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImFwcC1jdXN0b21lci1pbnNpZ2h0LW5ldyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICJeL2luc2lnaHQvOmluc2lnaHRJZCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX0NVU1RPTUVSIiwgIlJPTEVfU1VQRVJfQ1VTVE9NRVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNDYiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNDciCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRDdXN0b21lckluc2lnaHRDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIGluc2lnaHRJZCA9ICRzdGF0ZVBhcmFtcy5pbnNpZ2h0SWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgImluc2lnaHQtcGFnZSIsCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0SWQ6IGluc2lnaHRJZAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvaW5zaWdodC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLW1vZGVyYXRvci1pbnNpZ2h0IiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9kZXJhdG9yLWhvbWUiLAogICAgICB1cmw6ICJeL2luc2lnaHQtcGFnZT86aW5zaWdodElkIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTU9ERVJBVE9SIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjQ4IiwKICAgICAgICBwYWdlX3RpdGxlOiAiTU5SLk1OUjQ5IgogICAgICB9LAogICAgICBjb250cm9sbGVyOiAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQ3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIKICAgICAgICApLAogICAgICAgIHJlZGlyZWN0OiBbCiAgICAgICAgICAiJHN0YXRlIiwKICAgICAgICAgICIkc3RhdGVQYXJhbXMiLAogICAgICAgICAgIlByaW5jaXBhbCIsCiAgICAgICAgICBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgUHJpbmNpcGFsKSB7CiAgICAgICAgICAgIHZhciBpbnNpZ2h0SWQgPSAkc3RhdGVQYXJhbXMuaW5zaWdodElkOwogICAgICAgICAgICB2YXIgdCA9ICRzdGF0ZVBhcmFtcy50OwogICAgICAgICAgICBQcmluY2lwYWwuaWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uKGFjY291bnQpIHsKICAgICAgICAgICAgICBpZiAoYWNjb3VudCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJpbnNpZ2h0LXBhZ2UiLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaW5zaWdodElkOiBpbnNpZ2h0SWQKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAiYXBwLW1vZGVyYXRvci1pbnNpZ2h0LW5ldyIsCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0SWQ6IGluc2lnaHRJZAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2RlcmF0b3I6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2N1c3RvbWVyL2luc2lnaHQuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImFwcC1tb2RlcmF0b3ItaW5zaWdodC1uZXciLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2RlcmF0b3ItaG9tZSIsCiAgICAgIHVybDogIl4vaW5zaWdodC86aW5zaWdodElkIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTU9ERVJBVE9SIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjUwIiwKICAgICAgICBwYWdlX3RpdGxlOiAiTU5SLk1OUjUxIgogICAgICB9LAogICAgICBjb250cm9sbGVyOiAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQ3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIKICAgICAgICApLAogICAgICAgIHJlZGlyZWN0OiBbCiAgICAgICAgICAiJHN0YXRlIiwKICAgICAgICAgICIkc3RhdGVQYXJhbXMiLAogICAgICAgICAgIlByaW5jaXBhbCIsCiAgICAgICAgICBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgUHJpbmNpcGFsKSB7CiAgICAgICAgICAgIHZhciBpbnNpZ2h0SWQgPSAkc3RhdGVQYXJhbXMuaW5zaWdodElkOwogICAgICAgICAgICB2YXIgdCA9ICRzdGF0ZVBhcmFtcy50OwogICAgICAgICAgICBQcmluY2lwYWwuaWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uKGFjY291bnQpIHsKICAgICAgICAgICAgICBpZiAoYWNjb3VudCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJpbnNpZ2h0LXBhZ2UiLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaW5zaWdodElkOiBpbnNpZ2h0SWQKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbW9kZXJhdG9yOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9jdXN0b21lci9pbnNpZ2h0Lmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImN1c3RvbWVySW5zaWdodENvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhcHAtdGVzdGVyLWluc2lnaHQiLCB7CiAgICAgIHBhcmVudDogImFwcC10ZXN0ZXItaG9tZSIsCiAgICAgIHVybDogIl4vaW5zaWdodC1wYWdlPzppbnNpZ2h0SWQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNTIiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNTMiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRDdXN0b21lckluc2lnaHRDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIGluc2lnaHRJZCA9ICRzdGF0ZVBhcmFtcy5pbnNpZ2h0SWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgImluc2lnaHQtcGFnZSIsCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0SWQ6IGluc2lnaHRJZAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJhcHAtdGVzdGVyLWluc2lnaHQtbmV3IiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGluc2lnaHRJZDogaW5zaWdodElkCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvaW5zaWdodC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLXRlc3Rlci1pbnNpZ2h0LW5ldyIsIHsKICAgICAgcGFyZW50OiAiYXBwLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiXi9pbnNpZ2h0LzppbnNpZ2h0SWQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNTQiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNTUiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRDdXN0b21lckluc2lnaHRDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJjdXN0b21lckluc2lnaHRDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIGluc2lnaHRJZCA9ICRzdGF0ZVBhcmFtcy5pbnNpZ2h0SWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgImluc2lnaHQtcGFnZSIsCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpbnNpZ2h0SWQ6IGluc2lnaHRJZAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF90ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2N1c3RvbWVyL2luc2lnaHQuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiY3VzdG9tZXJJbnNpZ2h0Q29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInZpZGVvLWVtYmVkIiwgewogICAgICBwYXJlbnQ6ICJzaXRlLWVtYmVkIiwKICAgICAgdXJsOiAiL3ZpZGVvLWVtYmVkPzp2aWRlb0lkIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNTYiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUsCiAgICAgICAgZW1iZWQ6IHRydWUKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0VtYmVkQ29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZVZpZGVvQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVWaWRlb0VtYmVkQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS92aWRlby1lbWJlZC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9FbWJlZENvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJpbnNpZ2h0LWVtYmVkIiwgewogICAgICBwYXJlbnQ6ICJzaXRlLWVtYmVkIiwKICAgICAgdXJsOiAiL2luc2lnaHQtZW1iZWQ/Omluc2lnaHRJZCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjU3IiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlLAogICAgICAgIGVtYmVkOiB0cnVlCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJob21lSW5zaWdodEVtYmVkQ29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUluc2lnaHRDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUluc2lnaHRFbWJlZENvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvaW5zaWdodC1lbWJlZC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lSW5zaWdodEVtYmVkQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImFwcC1jdXN0b21lci12aWRlby1yZWRpcmVjdCIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICIvdmlkZW8/dmlkZW9JZCZ0IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQ1VTVE9NRVIiLCAiUk9MRV9TVVBFUl9DVVNUT01FUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI1OCIsCiAgICAgICAgcGFnZV90aXRsZTogIk1OUi5NTlI1OSIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lVmlkZW9Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIHZpZGVvSWQgPSAkc3RhdGVQYXJhbXMudmlkZW9JZDsKICAgICAgICAgICAgdmFyIHQgPSAkc3RhdGVQYXJhbXMudDsKICAgICAgICAgICAgUHJpbmNpcGFsLmlkZW50aXR5KCkudGhlbihmdW5jdGlvbihhY2NvdW50KSB7CiAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgInZpZGVvIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfY3VzdG9tZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvdmlkZW8uaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZVZpZGVvQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImFwcC1jdXN0b21lci12aWRlbyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICJeL3ZpZGVvP3ZpZGVvSWQmdCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX0NVU1RPTUVSIiwgIlJPTEVfU1VQRVJfQ1VTVE9NRVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNjAiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNjEiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9Db250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lVmlkZW9Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZVZpZGVvQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRDdXN0b21lck9yZGVyTGlzdENvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlciIKICAgICAgICApLAogICAgICAgIHJlZGlyZWN0OiBbCiAgICAgICAgICAiJHN0YXRlIiwKICAgICAgICAgICIkc3RhdGVQYXJhbXMiLAogICAgICAgICAgIlByaW5jaXBhbCIsCiAgICAgICAgICBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgUHJpbmNpcGFsKSB7CiAgICAgICAgICAgIHZhciB2aWRlb0lkID0gJHN0YXRlUGFyYW1zLnZpZGVvSWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgInZpZGVvIiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJhcHAtY3VzdG9tZXItdmlkZW8tbmV3IiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS92aWRlby5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9Db250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLWN1c3RvbWVyLXZpZGVvLW5ldyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICJeL3ZpZGVvLzp2aWRlb0lkPzp0IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQ1VTVE9NRVIiLCAiUk9MRV9TVVBFUl9DVVNUT01FUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI2MiIsCiAgICAgICAgcGFnZV90aXRsZTogIk1OUi5NTlI2MyIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lVmlkZW9Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIHZpZGVvSWQgPSAkc3RhdGVQYXJhbXMudmlkZW9JZDsKICAgICAgICAgICAgdmFyIHQgPSAkc3RhdGVQYXJhbXMudDsKICAgICAgICAgICAgUHJpbmNpcGFsLmlkZW50aXR5KCkudGhlbihmdW5jdGlvbihhY2NvdW50KSB7CiAgICAgICAgICAgICAgaWYgKGFjY291bnQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAidmlkZW8iLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICB0OiB0CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X2N1c3RvbWVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3ZpZGVvLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC5zdGF0ZSgiYXBwLXRlc3Rlci12aWRlby1yZWRpcmVjdCIsIHsKICAgICAgcGFyZW50OiAiYXBwLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL3ZpZGVvP3ZpZGVvSWQmdCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1RFU1RFUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI2NCIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lVmlkZW9Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIHZpZGVvSWQgPSAkc3RhdGVQYXJhbXMudmlkZW9JZDsKICAgICAgICAgICAgdmFyIHQgPSAkc3RhdGVQYXJhbXMudDsKICAgICAgICAgICAgUHJpbmNpcGFsLmlkZW50aXR5KCkudGhlbihmdW5jdGlvbihhY2NvdW50KSB7CiAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgInZpZGVvIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3ZpZGVvLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC5zdGF0ZSgiYXBwLXRlc3Rlci12aWRlbyIsIHsKICAgICAgcGFyZW50OiAiYXBwLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiXi92aWRlbz92aWRlb0lkJnQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNjUiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9Db250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lVmlkZW9Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZVZpZGVvQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRDdXN0b21lck9yZGVyTGlzdENvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlciIKICAgICAgICApLAogICAgICAgIHJlZGlyZWN0OiBbCiAgICAgICAgICAiJHN0YXRlIiwKICAgICAgICAgICIkc3RhdGVQYXJhbXMiLAogICAgICAgICAgIlByaW5jaXBhbCIsCiAgICAgICAgICBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgUHJpbmNpcGFsKSB7CiAgICAgICAgICAgIHZhciB2aWRlb0lkID0gJHN0YXRlUGFyYW1zLnZpZGVvSWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgIGlmIChhY2NvdW50ID09IG51bGwpIHsKICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgInZpZGVvIiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJhcHAtdGVzdGVyLXZpZGVvLW5ldyIsCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkOiB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIHQ6IHQKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3ZpZGVvLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhcHAtdGVzdGVyLXZpZGVvLW5ldyIsIHsKICAgICAgcGFyZW50OiAiYXBwLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiXi92aWRlby86dmlkZW9JZD86dCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1RFU1RFUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI2NiIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lVmlkZW9Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIHZpZGVvSWQgPSAkc3RhdGVQYXJhbXMudmlkZW9JZDsKICAgICAgICAgICAgdmFyIHQgPSAkc3RhdGVQYXJhbXMudDsKICAgICAgICAgICAgUHJpbmNpcGFsLmlkZW50aXR5KCkudGhlbihmdW5jdGlvbihhY2NvdW50KSB7CiAgICAgICAgICAgICAgaWYgKGFjY291bnQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAidmlkZW8iLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICB0OiB0CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS92aWRlby5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9Db250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgic3VjY2VzcyIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi9zdWNjZXNzIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNjgiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZU1haW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZU1haW5Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEhvbWVTdWNjZXNzQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVTdWNjZXNzQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRIb21lTG9naW5Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZUxvZ2luQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS9tb2RhbF93aW5kb3cuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZVN1Y2Nlc3NDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfbGFuZGluZ19uZXcvaGVhZGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVMb2dpbkNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9mb290ZXJXaGl0ZS5odG1sIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYWNjZXNzZGVuaWVkIiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL2FjY2Vzc2RlbmllZCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjY5IgogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvYWNjZXNzZGVuaWVkLmh0bWwiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC5zdGF0ZSgicGF5IiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL3BheT9pZCZwcm9tb0NvZGUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI3MCIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lUGF5Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVQYXlDb250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3BheS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lUGF5Q29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInN1Y2Nlc3NQYXkiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6CiAgICAgICAgIi9zdWNjZXNzUGF5P1N1Y2Nlc3MmRXJyb3JDb2RlJk9yZGVySWQmTWVzc2FnZSZEZXRhaWxzJkFtb3VudCZNZXJjaGFudEVtYWlsJk1lcmNoYW50TmFtZSZQYXltZW50SWQmQ29tcGFueU5hbWUmRW1haWxSZXEmUGhvbmVzUmVxIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNzEiCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS9yZWFjdC9hZnRlclBheW1lbnQvZGlzdC9pbmRleC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCRzY29wZSwgJGNvbmZpZykgewogICAgICAgICAgICAkc2NvcGUucmVkaXJlY3QgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBwYXJlbnQubG9jYXRpb24gPQogICAgICAgICAgICAgICAgJGNvbmZpZy5mdWxsVXJsICsgIi9hcHAtY3VzdG9tZXItaG9tZS9saXN0LW9yZGVycyI7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJmYWlsUGF5IiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL2ZhaWxQYXk/U3VjY2VzcyZFcnJvckNvZGUmT3JkZXJJZCZNZXNzYWdlJkRldGFpbHMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI3MiIKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3JlYWN0L2FmdGVyUGF5bWVudC9kaXN0L2luZGV4Lmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oJHNjb3BlLCAkY29uZmlnKSB7CiAgICAgICAgICAgICRzY29wZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIHBhcmVudC5sb2NhdGlvbiA9CiAgICAgICAgICAgICAgICAkY29uZmlnLmZ1bGxVcmwgKyAiL2FwcC1jdXN0b21lci1ob21lL2xpc3Qtb3JkZXJzIjsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0pCgogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVUkwgYXBwLXRlc3RlciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogICAgLnN0YXRlKCJhcHAtdGVzdGVyLWhvbWUiLCB7CiAgICAgIHBhcmVudDogImFwcC10ZXN0ZXIiLAogICAgICB1cmw6ICIvYXBwLXRlc3Rlci1ob21lIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfVEVTVEVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjczIgogICAgICB9LAogICAgICBjb250cm9sbGVyOiAidGVzdGVySG9tZUNvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZFRlc3RlckhvbWVDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigidGVzdGVySG9tZUNvbnRyb2xsZXIiKSwKICAgICAgICBsb2FkVGVzdGVySGVhZGVyQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoInRlc3RlckhlYWRlckNvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF90ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF90ZXN0ZXIvaG9tZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX3Rlc3Rlci9oZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVySGVhZGVyQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInBheS1pbmZvIiwgewogICAgICBwYXJlbnQ6ICJhcHAtdGVzdGVyLWhvbWUiLAogICAgICB1cmw6ICIvcGF5LWluZm8iLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNzQiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNzUiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJQYXlJbmZvQ29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyUGF5SW5mb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJ0ZXN0ZXJQYXlJbmZvQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX3Rlc3Rlci9wYXktaW5mby5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJQYXlJbmZvQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInRlc3Rlci1wcm9maWxlIiwgewogICAgICBwYXJlbnQ6ICJhcHAtdGVzdGVyLWhvbWUiLAogICAgICB1cmw6ICIvdGVzdGVyLXByb2ZpbGUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SNzYiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SNzciCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJQcm9maWxlQ29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyUHJvZmlsZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJ0ZXN0ZXJQcm9maWxlQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX3Rlc3Rlci9wcm9maWxlLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3RlclByb2ZpbGVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgibmV3LXRhc2tzIiwgewogICAgICBwYXJlbnQ6ICJhcHAtdGVzdGVyLWhvbWUiLAogICAgICB1cmw6ICIvbmV3LXRhc2tzIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfVEVTVEVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjc4IiwKICAgICAgICBwYWdlX3RpdGxlOiAiTU5SLk1OUjc5IgogICAgICB9LAogICAgICBjb250cm9sbGVyOiAidGVzdGVyTmV3VGFza0NvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZFRlc3Rlck5ld1Rhc2tDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigidGVzdGVyTmV3VGFza0NvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF90ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF90ZXN0ZXIvbmV3LXRhc2tzLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck5ld1Rhc2tDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiZG9uZS10YXNrcyIsIHsKICAgICAgcGFyZW50OiAiYXBwLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2RvbmUtdGFza3MiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SODAiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SODEiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJEb25lVGFza3NDb250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJEb25lVGFza3NDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJ0ZXN0ZXJEb25lVGFza3NDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfdGVzdGVyL2RvbmUtdGFza3MuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVyRG9uZVRhc2tzQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInRlc3Rlci1pbnRlZ3JhdGlvbiIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi90aT9vcmRlciIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjgyIiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVySW50ZWdyYXRpb25Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJ0ZXN0ZXJJbnRlZ3JhdGlvbkNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS9lbXB0eS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJJbnRlZ3JhdGlvbkNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhcHAtc2lkZS10ZXN0ZXItaG9tZSIsIHsKICAgICAgcGFyZW50OiAiYXBwLXNpZGUtdGVzdGVyIiwKICAgICAgdXJsOiAiL3NpZGUtdGVzdGVyLXdlbGNvbWUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4MyIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9zaWRlX3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy9yZWFjdC9zaWRlVGVzdGVyV2VsY29tZS9pbmRleDEuaHRtbCIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInN0LXdlbGNvbWUiLCB7CiAgICAgIHBhcmVudDogImFwcC1zaWRlLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL3dlbGNvbWU/Z3ImYWMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4NCIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3RlclNpZGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3NpZGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfc2lkZV90ZXN0ZXIvd2VsY29tZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJzdC1pbnN0cnVjdGlvbjEiLCB7CiAgICAgIHBhcmVudDogImFwcC1zaWRlLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2luc3RydWN0aW9uMT9nciZhYyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjg1IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZFRlc3RlclNpZGVUZXN0ZXJIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyU2lkZVRlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfc2lkZV90ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOgogICAgICAgICAgICAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF9zaWRlX3Rlc3Rlci9pbnN0cnVjdGlvbl9zdGVwXzEuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVyU2lkZVRlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgic3QtaW5zdHJ1Y3Rpb24yIiwgewogICAgICBwYXJlbnQ6ICJhcHAtc2lkZS10ZXN0ZXItaG9tZSIsCiAgICAgIHVybDogIi9pbnN0cnVjdGlvbjI/Z3ImYWMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4NiIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3RlclNpZGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3NpZGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDoKICAgICAgICAgICAgInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfc2lkZV90ZXN0ZXIvaW5zdHJ1Y3Rpb25fc3RlcF8yLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3RlclNpZGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInN0LWluc3RydWN0aW9uMyIsIHsKICAgICAgcGFyZW50OiAiYXBwLXNpZGUtdGVzdGVyLWhvbWUiLAogICAgICB1cmw6ICIvaW5zdHJ1Y3Rpb24zP2dyJmFjIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SODciCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyU2lkZVRlc3RlckhvbWVDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJ0ZXN0ZXJTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9zaWRlX3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6CiAgICAgICAgICAgICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX3NpZGVfdGVzdGVyL2luc3RydWN0aW9uX3N0ZXBfMy5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhcHAtbW9iaWxlLXNpZGUtdGVzdGVyLWhvbWUiLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2JpbGUtc2lkZS10ZXN0ZXIiLAogICAgICB1cmw6ICIvbW9iaWxlLXNpZGUtdGVzdGVyLXdlbGNvbWUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4MyIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZQogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZFRlc3Rlck1vYmlsZVNpZGVUZXN0ZXJIZWFkZXJDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJ0ZXN0ZXJNb2JpbGVTaWRlVGVzdGVySGVhZGVyQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3NpZGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3NpZGVfdGVzdGVyL2hvbWUuaHRtbCIKICAgICAgICB9LAogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX21vYmlsZV9zaWRlX3Rlc3Rlci9oZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVyTW9iaWxlU2lkZVRlc3RlckhlYWRlckNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJtdC1zdC13ZWxjb21lIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9iaWxlLXNpZGUtdGVzdGVyLWhvbWUiLAogICAgICB1cmw6ICIvd2VsY29tZT9nciZhYyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjg0IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZFRlc3Rlck1vYmlsZVNpZGVUZXN0ZXJIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTW9iaWxlU2lkZVRlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfc2lkZV90ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF9tb2JpbGVfc2lkZV90ZXN0ZXIvd2VsY29tZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJNb2JpbGVTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJtdC1zdC1pbnN0cnVjdGlvbjEiLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2JpbGUtc2lkZS10ZXN0ZXItaG9tZSIsCiAgICAgIHVybDogIi9pbnN0cnVjdGlvbjE/Z3ImYWMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4NSIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJNb2JpbGVTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck1vYmlsZVNpZGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3NpZGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDoKICAgICAgICAgICAgInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3NpZGVfdGVzdGVyL2luc3RydWN0aW9uX3N0ZXBfMS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJNb2JpbGVTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJtdC1zdC1pbnN0cnVjdGlvbjIiLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2JpbGUtc2lkZS10ZXN0ZXItaG9tZSIsCiAgICAgIHVybDogIi9pbnN0cnVjdGlvbjI/Z3ImYWMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4NiIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJNb2JpbGVTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck1vYmlsZVNpZGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3NpZGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDoKICAgICAgICAgICAgInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3NpZGVfdGVzdGVyL2luc3RydWN0aW9uX3N0ZXBfMi5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJNb2JpbGVTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJtdC1zdC1pbnN0cnVjdGlvbjMiLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2JpbGUtc2lkZS10ZXN0ZXItaG9tZSIsCiAgICAgIHVybDogIi9pbnN0cnVjdGlvbjM/Z3ImYWMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4NyIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJNb2JpbGVTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck1vYmlsZVNpZGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X3NpZGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDoKICAgICAgICAgICAgInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3NpZGVfdGVzdGVyL2luc3RydWN0aW9uX3N0ZXBfMy5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJNb2JpbGVTaWRlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhcHAtbW9iaWxlLXRlc3Rlci1ob21lIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9iaWxlLXRlc3RlciIsCiAgICAgIHVybDogIi9tb2JpbGUtdGVzdGVyLXdlbGNvbWU/dXJsJm9yZGVySWQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SODgiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJNb2JpbGVUZXN0ZXJIZWFkZXJDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJ0ZXN0ZXJNb2JpbGVUZXN0ZXJIZWFkZXJDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbW9iaWxlX3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX21vYmlsZV90ZXN0ZXIvaG9tZS5odG1sIgogICAgICAgIH0sCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3Rlc3Rlci9oZWFkZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVyTW9iaWxlVGVzdGVySGVhZGVyQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoIm10LXdlbGNvbWUiLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2JpbGUtdGVzdGVyLWhvbWUiLAogICAgICB1cmw6ICIvd2VsY29tZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1RFU1RFUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI4OSIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJNb2JpbGVUZXN0ZXJIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTW9iaWxlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2JpbGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3Rlc3Rlci93ZWxjb21lLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck1vYmlsZVRlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgibXQtaW5zdHJ1Y3Rpb24xIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9iaWxlLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2luc3RydWN0aW9uMSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1RFU1RFUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI5MCIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJNb2JpbGVUZXN0ZXJIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTW9iaWxlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2JpbGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDoKICAgICAgICAgICAgInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3Rlc3Rlci9pbnN0cnVjdGlvbl9zdGVwXzEuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVyTW9iaWxlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJtdC1pbnN0cnVjdGlvbjIiLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2JpbGUtdGVzdGVyLWhvbWUiLAogICAgICB1cmw6ICIvaW5zdHJ1Y3Rpb24yIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfVEVTVEVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjkxIgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZFRlc3Rlck1vYmlsZVRlc3RlckhvbWVDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJ0ZXN0ZXJNb2JpbGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X21vYmlsZV90ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOgogICAgICAgICAgICAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF9tb2JpbGVfdGVzdGVyL2luc3RydWN0aW9uX3N0ZXBfMi5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJNb2JpbGVUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoIm10LWluc3RydWN0aW9uMyIsIHsKICAgICAgcGFyZW50OiAiYXBwLW1vYmlsZS10ZXN0ZXItaG9tZSIsCiAgICAgIHVybDogIi9pbnN0cnVjdGlvbjMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SOTIiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyTW9iaWxlVGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck1vYmlsZVRlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbW9iaWxlX3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6CiAgICAgICAgICAgICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX21vYmlsZV90ZXN0ZXIvaW5zdHJ1Y3Rpb25fc3RlcF8zLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck1vYmlsZVRlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgibXQtaW5zdHJ1Y3Rpb240IiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9iaWxlLXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2luc3RydWN0aW9uNCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1RFU1RFUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI5MyIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJNb2JpbGVUZXN0ZXJIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTW9iaWxlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2JpbGVfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDoKICAgICAgICAgICAgInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbW9iaWxlX3Rlc3Rlci9pbnN0cnVjdGlvbl9zdGVwXzQuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVyTW9iaWxlVGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVUkwgYXBwLW5ldy10ZXN0ZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogICAgLnN0YXRlKCJhcHAtbmV3LXRlc3Rlci1ob21lIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbmV3LXRlc3RlciIsCiAgICAgIHVybDogIi9hcHAtbmV3LXRlc3Rlci1ob21lIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTkVXX1RFU1RFUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI5NCIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJOZXdUZXN0ZXJIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTmV3VGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgKSwKICAgICAgICBsb2FkVGVzdGVyTmV3VGVzdGVySGVhZGVyQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTmV3VGVzdGVySGVhZGVyQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X25ld190ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF9uZXdfdGVzdGVyL2hvbWUuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAidGVzdGVyTmV3VGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF9uZXdfdGVzdGVyL2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJOZXdUZXN0ZXJIZWFkZXJDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiaW5zdHJ1Y3Rpb24xIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbmV3LXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2luc3RydWN0aW9uMSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX05FV19URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SOTUiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyTmV3VGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbmV3X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6CiAgICAgICAgICAgICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX25ld190ZXN0ZXIvaW5zdHJ1Y3Rpb25fc3RlcF8xLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiaW5zdHJ1Y3Rpb24yIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbmV3LXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2luc3RydWN0aW9uMiIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX05FV19URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SOTYiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyTmV3VGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbmV3X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6CiAgICAgICAgICAgICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX25ld190ZXN0ZXIvaW5zdHJ1Y3Rpb25fc3RlcF8yLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiaW5zdHJ1Y3Rpb24zIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbmV3LXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2luc3RydWN0aW9uMyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX05FV19URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SOTciCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyTmV3VGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbmV3X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6CiAgICAgICAgICAgICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX25ld190ZXN0ZXIvaW5zdHJ1Y3Rpb25fc3RlcF8zLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiaW5zdHJ1Y3Rpb240IiwgewogICAgICBwYXJlbnQ6ICJhcHAtbmV3LXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2luc3RydWN0aW9uNCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX05FV19URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SOTgiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkVGVzdGVyTmV3VGVzdGVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbmV3X3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6CiAgICAgICAgICAgICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX25ld190ZXN0ZXIvaW5zdHJ1Y3Rpb25fc3RlcF80Lmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgid2VsY29tZSIsIHsKICAgICAgcGFyZW50OiAiYXBwLW5ldy10ZXN0ZXItaG9tZSIsCiAgICAgIHVybDogIi93ZWxjb21lIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTkVXX1RFU1RFUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlI5OSIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJOZXdUZXN0ZXJIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTmV3VGVzdGVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9uZXdfdGVzdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF90ZXN0ZXJzL3RtcGxfbmV3X3Rlc3Rlci93ZWxjb21lLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiY29uZ3JhdHVsYXRpb25zIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbmV3LXRlc3Rlci1ob21lIiwKICAgICAgdXJsOiAiL2NvbmdyYXR1bGF0aW9ucyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX05FV19URVNURVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTAwIgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZFRlc3Rlck5ld1Rlc3RlckhvbWVDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJ0ZXN0ZXJOZXdUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X25ld190ZXN0ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF9uZXdfdGVzdGVyL2NvbmdyYXR1bGF0aW9ucy5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJOZXdUZXN0ZXJIb21lQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFVSTCBhcHAtbG9ja2VkLXRlc3Rlci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCiAgICAuc3RhdGUoImFwcC1sb2NrZWQtdGVzdGVyLWhvbWUiLCB7CiAgICAgIHBhcmVudDogImFwcC1sb2NrZWQtdGVzdGVyIiwKICAgICAgdXJsOiAiL2FwcC1sb2NrZWQtdGVzdGVyLWhvbWUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9MT0NLRURfVEVTVEVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjEwMSIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRUZXN0ZXJMb2NrZWRIb21lQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAidGVzdGVyTG9ja2VkSG9tZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGNvbnRlbnRfbG9ja2VkX3Rlc3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfdGVzdGVycy90bXBsX2xvY2tlZF90ZXN0ZXIvaG9tZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJMb2NrZWRIb21lQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgICJoZWFkZXJAbG9ja2VkLXRlc3RlciI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3Rlc3RlcnMvdG1wbF9sb2NrZWRfdGVzdGVyL2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJ0ZXN0ZXJMb2NrZWRIb21lQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogInRlc3RlckxvY2tlZEhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVVJMIGFwcC1hZG1pbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC5zdGF0ZSgiYXBwLWFkbWluLWhvbWUiLCB7CiAgICAgIHBhcmVudDogImFwcC1hZG1pbiIsCiAgICAgIHVybDogIi9hcHAtYWRtaW4taG9tZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX0FETUlOIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjEwMiIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRBZG1pbkhvbWVDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiYWRtaW5Ib21lQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X2FkbWluOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9hZG1pbi9ob21lLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImFkbWluSG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2FkbWluL2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJhZG1pbkhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYWxsLXRlc3RlcnMiLCB7CiAgICAgIHBhcmVudDogImFwcC1hZG1pbi1ob21lIiwKICAgICAgdXJsOiAiL2FsbC10ZXN0ZXJzIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQURNSU4iXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTAzIgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEFkbWluVGVzdGVyQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImFkbWluVGVzdGVyQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgY29udGVudF9hZG1pbjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfYWRtaW4vYWxsLXRlc3RlcnMuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiYWRtaW5UZXN0ZXJDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYWxsLWN1c3RvbWVycyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWFkbWluLWhvbWUiLAogICAgICB1cmw6ICIvYWxsLWN1c3RvbWVycyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX0FETUlOIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjE0NSIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRBZG1pbkN1c3RvbWVyQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImFkbWluQ3VzdG9tZXJDb250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBjb250ZW50X2FkbWluOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9hZG1pbi9hbGwtY3VzdG9tZXJzLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImFkbWluQ3VzdG9tZXJDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYWRtaW4tb3JkZXItaW5mbyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWFkbWluLWhvbWUiLAogICAgICB1cmw6ICIvYWxsLWN1c3RvbWVycy86Y3VzdG9tZXJJZC9vcmRlcnMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9BRE1JTiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxNDUiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQWRtaW5PcmRlcnNDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiYWRtaW5PcmRlcnNDb250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBjb250ZW50X2FkbWluOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9hZG1pbi9vcmRlcnMtaW5mby5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJhZG1pbk9yZGVyc0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhbGwtb2ZlcnRhcyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWFkbWluLWhvbWUiLAogICAgICB1cmw6ICIvYWxsLW9mZXJ0YXMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9BRE1JTiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxNDQiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQWRtaW5PZmVydGFzQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImFkbWluT2ZlcnRhc0NvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGNvbnRlbnRfYWRtaW46IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2FkbWluL2FsbC1vZmVydGFzLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImFkbWluT2ZlcnRhc0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJ0ZWNobmljYWxfc2VjdGlvbiIsIHsKICAgICAgcGFyZW50OiAiYXBwLWFkbWluIiwKICAgICAgdXJsOiAiL3RlY2huaWNhbF9zZWN0aW9uIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQURNSU4iXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTQ0IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEFkbWluVGVjaG5pY2FsQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImFkbWluVGVjaG5pY2FsQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X2FkbWluOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9hZG1pbi90ZWNobmljYWxfc2VjdGlvbi5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJhZG1pblRlY2huaWNhbENvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2FkbWluL2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJhZG1pbkhvbWVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVVJMIGFwcC1jdXN0b21lciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC5zdGF0ZSgiYXBwLWN1c3RvbWVyLWhvbWUiLCB7CiAgICAgIHBhcmVudDogImFwcC1jdXN0b21lciIsCiAgICAgIHVybDogIi9hcHAtY3VzdG9tZXItaG9tZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX0NVU1RPTUVSIiwgIlJPTEVfU1VQRVJfQ1VTVE9NRVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTA0IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEN1c3RvbWVySG9tZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJjdXN0b21lckhvbWVDb250cm9sbGVyIiksCiAgICAgICAgbG9hZEN1c3RvbWVySGVhZGVyQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImN1c3RvbWVySGVhZGVyQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X2N1c3RvbWVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9jdXN0b21lci9ob21lLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImN1c3RvbWVySG9tZUNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2N1c3RvbWVyL2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckhlYWRlckNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJjdXN0b21lci1wcm9maWxlIiwgewogICAgICBwYXJlbnQ6ICJhcHAtY3VzdG9tZXItaG9tZSIsCiAgICAgIHVybDogIi9wcm9maWxlIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQ1VTVE9NRVIiLCAiUk9MRV9TVVBFUl9DVVNUT01FUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMDUiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SMTA2IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEN1c3RvbWVyUHJvZmlsZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyUHJvZmlsZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvcHJvZmlsZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lclByb2ZpbGVDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgidGFyaWZmIiwgewogICAgICBwYXJlbnQ6ICJhcHAtY3VzdG9tZXItaG9tZSIsCiAgICAgIHVybDogIi90YXJpZmYiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9DVVNUT01FUiIsICJST0xFX1NVUEVSX0NVU1RPTUVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjE0MyIsCiAgICAgICAgcGFnZV90aXRsZTogIk1OUi5NTlIxNDMiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQ3VzdG9tZXJUYXJpZmZDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiY3VzdG9tZXJUYXJpZmZDb250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfY3VzdG9tZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2N1c3RvbWVyL3RhcmlmZi5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lclRhcmlmZkNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhY3RpdmUtb3JkZXJzIiwgewogICAgICBwYXJlbnQ6ICJhcHAtY3VzdG9tZXItaG9tZSIsCiAgICAgIHVybDogIi9hY3RpdmUtb3JkZXJzIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQ1VTVE9NRVIiLCAiUk9MRV9TVVBFUl9DVVNUT01FUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMDciCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQ3VzdG9tZXJPcmRlckFjdGl2ZUNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyT3JkZXJBY3RpdmVDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfY3VzdG9tZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2N1c3RvbWVyL2FjdGl2ZS1vcmRlcnMuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiY3VzdG9tZXJPcmRlckFjdGl2ZUNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJsaXN0LW9yZGVycyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICIvbGlzdC1vcmRlcnMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9DVVNUT01FUiIsICJST0xFX1NVUEVSX0NVU1RPTUVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjEwOCIsCiAgICAgICAgcGFnZV90aXRsZTogIk1OUi5NTlIxMDkiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQ3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJjdXN0b21lck9yZGVyTGlzdENvbnRyb2xsZXIiCiAgICAgICAgKSwKICAgICAgICBsb2FkQ3VzdG9tZXJPcmRlckxpc3RIZWFkZXJDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJjdXN0b21lck9yZGVyTGlzdEhlYWRlckNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvb3JkZXJzTGlzdC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lck9yZGVyTGlzdENvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJpbnNpZ2h0LWxpc3QiLCB7CiAgICAgIHBhcmVudDogImFwcC1jdXN0b21lci1ob21lIiwKICAgICAgdXJsOiAiL2luc2lnaHQtbGlzdCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX0NVU1RPTUVSIiwgIlJPTEVfU1VQRVJfQ1VTVE9NRVIiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTEwIiwKICAgICAgICBwYWdlX3RpdGxlOiAiTU5SLk1OUjExMSIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRDdXN0b21lckluc2lnaHRMaXN0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJJbnNpZ2h0TGlzdENvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvb3JkZXJJbnNpZ2h0Lmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImN1c3RvbWVySW5zaWdodExpc3RDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYmFsYW5jZSIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICIvYmFsYW5jZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX1NVUEVSX0NVU1RPTUVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjExMiIsCiAgICAgICAgcGFnZV90aXRsZTogIk1OUi5NTlIxMTMiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkQ3VzdG9tZXJCYWxhbmNlTGlzdENvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyQmFsYW5jZUNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvYmFsYW5jZS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lckJhbGFuY2VDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKCiAgICAuc3RhdGUoImRyYWZ0LW9yZGVycyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICIvZHJhZnQtb3JkZXJzIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQ1VTVE9NRVIiLCAiUk9MRV9TVVBFUl9DVVNUT01FUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMTQiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SMTE1IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEN1c3RvbWVyT3JkZXJEcmFmdENvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyT3JkZXJEcmFmdENvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvZHJhZnQtb3JkZXJzLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImN1c3RvbWVyT3JkZXJEcmFmdENvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJoaXN0LW9yZGVycyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICIvaGlzdC1vcmRlcnMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9DVVNUT01FUiIsICJST0xFX1NVUEVSX0NVU1RPTUVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjExNiIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRDdXN0b21lck9yZGVySGlzdENvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyT3JkZXJIaXN0Q29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X2N1c3RvbWVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9jdXN0b21lci9oaXN0LW9yZGVycy5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJjdXN0b21lck9yZGVySGlzdENvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJvcmRlciIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICIvb3JkZXI/OmlkJmFzIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfQ1VTVE9NRVIiLCAiUk9MRV9TVVBFUl9DVVNUT01FUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMTciLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SMTE4IgogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9jdXN0b21lcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfY3VzdG9tZXIvbmV3Lm9yZGVyLmh0bWwiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC5zdGF0ZSgib3JkZXItaW5mbyIsIHsKICAgICAgcGFyZW50OiAiYXBwLWN1c3RvbWVyLWhvbWUiLAogICAgICB1cmw6ICIvb3JkZXItaW5mbz86aWQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9DVVNUT01FUiIsICJST0xFX1NVUEVSX0NVU1RPTUVSIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjExOSIsCiAgICAgICAgcGFnZV90aXRsZTogIiIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRPcmRlckluZm9Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigib3JkZXJJbmZvQ29udHJvbGxlciIpCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X2N1c3RvbWVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9jdXN0b21lci9vcmRlci1pbmZvLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIm9yZGVySW5mb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBVUkwgYXBwLW1vZGVyYXRvciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC5zdGF0ZSgiYXBwLW1vZGVyYXRvci1ob21lIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9kZXJhdG9yIiwKICAgICAgdXJsOiAiL2FwcC1tb2RlcmF0b3ItaG9tZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX01PREVSQVRPUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMjAiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkTW9kZXJhdG9ySGVhZGVyQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAibW9kZXJhdG9ySGVhZGVyQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X21vZGVyYXRvcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfbW9kZXJhdG9yL2hvbWUuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAibW9kZXJhdG9ySGVhZGVyQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfbW9kZXJhdG9yL2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJtb2RlcmF0b3JIZWFkZXJDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgidHJpYWwtdmlkZW8iLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2RlcmF0b3ItaG9tZSIsCiAgICAgIHVybDogIi90cmlhbC12aWRlbyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX01PREVSQVRPUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMjEiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkTW9kZXJhdG9yVHJpYWxWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgIm1vZGVyYXRvclRyaWFsVmlkZW9Db250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbW9kZXJhdG9yOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9tb2RlcmF0b3IvdHJpYWwtdmlkZW8uaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAibW9kZXJhdG9yVHJpYWxWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhY3RpdmUtb3JkZXJzLW1vZGVyYXRvciIsIHsKICAgICAgcGFyZW50OiAiYXBwLW1vZGVyYXRvci1ob21lIiwKICAgICAgdXJsOiAiL2FjdGl2ZS1vcmRlcnMiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTIyIgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZE1vZGVyYXRvckFjdGl2ZU9yZGVyc0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgIm1vZGVyYXRvckFjdGl2ZU9yZGVyc0NvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2RlcmF0b3I6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX21vZGVyYXRvci9hY3RpdmUtb3JkZXJzLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIm1vZGVyYXRvckFjdGl2ZU9yZGVyc0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJjbGFpbXMtbW9kZXJhdG9yIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9kZXJhdG9yLWhvbWUiLAogICAgICB1cmw6ICIvY2xhaW1zIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTU9ERVJBVE9SIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjEyMyIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRNb2RlcmF0b3JDbGFpbXNDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJtb2RlcmF0b3JDbGFpbXNDb250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbW9kZXJhdG9yOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9tb2RlcmF0b3IvY2xhaW1zLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIm1vZGVyYXRvckNsYWltc0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJhcHAtbW9kZXJhdG9yLXZpZGVvLXJlZGlyZWN0IiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9kZXJhdG9yLWhvbWUiLAogICAgICB1cmw6ICIvdmlkZW8/dmlkZW9JZCZ0IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTU9ERVJBVE9SIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjEyNSIsCiAgICAgICAgcGFnZV90aXRsZTogIk1OUi5NTlIxMjYiCiAgICAgIH0sCiAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9Db250cm9sbGVyIiwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lVmlkZW9Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigiaG9tZVZpZGVvQ29udHJvbGxlciIpLAogICAgICAgIGxvYWRDdXN0b21lck9yZGVyTGlzdENvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgImN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlciIKICAgICAgICApLAogICAgICAgIHJlZGlyZWN0OiBbCiAgICAgICAgICAiJHN0YXRlIiwKICAgICAgICAgICIkc3RhdGVQYXJhbXMiLAogICAgICAgICAgIlByaW5jaXBhbCIsCiAgICAgICAgICBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcywgUHJpbmNpcGFsKSB7CiAgICAgICAgICAgIHZhciB2aWRlb0lkID0gJHN0YXRlUGFyYW1zLnZpZGVvSWQ7CiAgICAgICAgICAgIHZhciB0ID0gJHN0YXRlUGFyYW1zLnQ7CiAgICAgICAgICAgIFByaW5jaXBhbC5pZGVudGl0eSgpLnRoZW4oZnVuY3Rpb24oYWNjb3VudCkgewogICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICJ2aWRlbyIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgIHQ6IHQKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X21vZGVyYXRvcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS92aWRlby5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lVmlkZW9Db250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXBwLW1vZGVyYXRvci12aWRlbyIsIHsKICAgICAgcGFyZW50OiAiYXBwLW1vZGVyYXRvci1ob21lIiwKICAgICAgdXJsOiAiXi92aWRlbz92aWRlb0lkJnQiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTI3IiwKICAgICAgICBwYWdlX3RpdGxlOiAiTU5SLk1OUjEyOCIKICAgICAgfSwKICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiLAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lVmlkZW9Db250cm9sbGVyIiksCiAgICAgICAgbG9hZEN1c3RvbWVyT3JkZXJMaXN0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiY3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgcmVkaXJlY3Q6IFsKICAgICAgICAgICIkc3RhdGUiLAogICAgICAgICAgIiRzdGF0ZVBhcmFtcyIsCiAgICAgICAgICAiUHJpbmNpcGFsIiwKICAgICAgICAgIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCBQcmluY2lwYWwpIHsKICAgICAgICAgICAgdmFyIHZpZGVvSWQgPSAkc3RhdGVQYXJhbXMudmlkZW9JZDsKICAgICAgICAgICAgdmFyIHQgPSAkc3RhdGVQYXJhbXMudDsKICAgICAgICAgICAgUHJpbmNpcGFsLmlkZW50aXR5KCkudGhlbihmdW5jdGlvbihhY2NvdW50KSB7CiAgICAgICAgICAgICAgaWYgKGFjY291bnQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgJHN0YXRlLmdvKAogICAgICAgICAgICAgICAgICAidmlkZW8iLAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmlkZW9JZDogdmlkZW9JZCwKICAgICAgICAgICAgICAgICAgICB0OiB0CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICByZWxvYWQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRzdGF0ZS5nbygKICAgICAgICAgICAgICAgICAgImFwcC1tb2RlcmF0b3ItdmlkZW8tbmV3IiwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IHZpZGVvSWQsCiAgICAgICAgICAgICAgICAgICAgdDogdAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmVsb2FkOiBmYWxzZQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2RlcmF0b3I6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvdmlkZW8uaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZVZpZGVvQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCgogICAgLnN0YXRlKCJhcHAtbW9kZXJhdG9yLXZpZGVvLW5ldyIsIHsKICAgICAgcGFyZW50OiAiYXBwLW1vZGVyYXRvci1ob21lIiwKICAgICAgdXJsOiAiXi92aWRlby86dmlkZW9JZD86dCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX01PREVSQVRPUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMjkiLAogICAgICAgIHBhZ2VfdGl0bGU6ICJNTlIuTU5SMTMwIgogICAgICB9LAogICAgICBjb250cm9sbGVyOiAiaG9tZVZpZGVvQ29udHJvbGxlciIsCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZVZpZGVvQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVWaWRlb0NvbnRyb2xsZXIiKSwKICAgICAgICBsb2FkQ3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJjdXN0b21lck9yZGVyTGlzdENvbnRyb2xsZXIiCiAgICAgICAgKSwKICAgICAgICByZWRpcmVjdDogWwogICAgICAgICAgIiRzdGF0ZSIsCiAgICAgICAgICAiJHN0YXRlUGFyYW1zIiwKICAgICAgICAgICJQcmluY2lwYWwiLAogICAgICAgICAgZnVuY3Rpb24oJHN0YXRlLCAkc3RhdGVQYXJhbXMsIFByaW5jaXBhbCkgewogICAgICAgICAgICB2YXIgdmlkZW9JZCA9ICRzdGF0ZVBhcmFtcy52aWRlb0lkOwogICAgICAgICAgICB2YXIgdCA9ICRzdGF0ZVBhcmFtcy50OwogICAgICAgICAgICBQcmluY2lwYWwuaWRlbnRpdHkoKS50aGVuKGZ1bmN0aW9uKGFjY291bnQpIHsKICAgICAgICAgICAgICBpZiAoYWNjb3VudCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oCiAgICAgICAgICAgICAgICAgICJ2aWRlbyIsCiAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB2aWRlb0lkOiB2aWRlb0lkLAogICAgICAgICAgICAgICAgICAgIHQ6IHQKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJlbG9hZDogZmFsc2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbW9kZXJhdG9yOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3ZpZGVvLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC5zdGF0ZSgiY29tbWVyY2lhbC12aWRlbyIsIHsKICAgICAgcGFyZW50OiAiYXBwLW1vZGVyYXRvci1ob21lIiwKICAgICAgdXJsOiAiL2NvbW1lcmNpYWwtdmlkZW8iLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTMxIgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZE1vZGVyYXRvckNvbW1lcmNpYWxWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgIm1vZGVyYXRvckNvbW1lcmNpYWxWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2RlcmF0b3I6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX21vZGVyYXRvci9jb21tZXJjaWFsLXZpZGVvLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIm1vZGVyYXRvckNvbW1lcmNpYWxWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJwcm9tby1jb2RlIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9kZXJhdG9yLWhvbWUiLAogICAgICB1cmw6ICIvcHJvbW8tY29kZSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX01PREVSQVRPUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMzIiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkTW9kZXJhdG9yUHJvbW9Db2RlQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAibW9kZXJhdG9yUHJvbW9Db2RlQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X21vZGVyYXRvcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfbW9kZXJhdG9yL3Byb21vQ29kZXMuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAibW9kZXJhdG9yUHJvbW9Db2RlQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImJvb2tpbmctdmlkZW8iLCB7CiAgICAgIHBhcmVudDogImFwcC1tb2RlcmF0b3ItaG9tZSIsCiAgICAgIHVybDogIi9ib29raW5nLXZpZGVvIiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbIlJPTEVfTU9ERVJBVE9SIl0sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjEzMyIKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRNb2RlcmF0b3JCb29raW5nVmlkZW9Db250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJtb2RlcmF0b3JCb29raW5nVmlkZW9Db250cm9sbGVyIgogICAgICAgICkKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2NvbnRlbnRfbW9kZXJhdG9yOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9tb2RlcmF0b3IvYm9va2luZy12aWRlby5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJtb2RlcmF0b3JCb29raW5nVmlkZW9Db250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYXJjaGl2ZS12aWRlbyIsIHsKICAgICAgcGFyZW50OiAiYXBwLW1vZGVyYXRvci1ob21lIiwKICAgICAgdXJsOiAiL2FyY2hpdmUtdmlkZW8iLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTM0IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZE1vZGVyYXRvckFyY2hpdmVWaWRlb0NvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgIm1vZGVyYXRvckFyY2hpdmVWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2RlcmF0b3I6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX21vZGVyYXRvci9hcmNoaXZlLXZpZGVvLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogIm1vZGVyYXRvckFyY2hpdmVWaWRlb0NvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9CiAgICB9KQogICAgLnN0YXRlKCJlbWFpbC1ub3RpZmljYXRpb25zIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9kZXJhdG9yLWhvbWUiLAogICAgICB1cmw6ICIvZW1haWwtbm90aWZpY2F0aW9ucyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogWyJST0xFX01PREVSQVRPUiJdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMzUiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkTW9kZXJhdG9yRW1haWxOb3RpZmljYXRpb25zQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAibW9kZXJhdG9yRW1haWxOb3RpZmljYXRpb25zQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X21vZGVyYXRvcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfbW9kZXJhdG9yL2VtYWlsLW5vdGlmaWNhdGlvbnMuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAibW9kZXJhdG9yRW1haWxOb3RpZmljYXRpb25zQ29udHJvbGxlciIKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInN1cGVyLWN1c3RvbWVyLXJlZ2lzdGVyIiwgewogICAgICBwYXJlbnQ6ICJhcHAtbW9kZXJhdG9yLWhvbWUiLAogICAgICB1cmw6ICIvc3VwZXItY3VzdG9tZXItcmVnaXN0ZXIiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFsiUk9MRV9NT0RFUkFUT1IiXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTM2IgogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZE1vZGVyYXRvclN1cGVyQ3VzdG9tZXJSZWdpc3RlckNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKAogICAgICAgICAgIm1vZGVyYXRvclN1cGVyQ3VzdG9tZXJSZWdpc3RlckNvbnRyb2xsZXIiCiAgICAgICAgKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9tb2RlcmF0b3I6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX21vZGVyYXRvci9zdXBlci1jdXN0b21lci1yZWdpc3Rlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJtb2RlcmF0b3JTdXBlckN1c3RvbWVyUmVnaXN0ZXJDb250cm9sbGVyIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiZmFxIiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL2ZhcSIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjE0NSIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZSwKICAgICAgICBvZ19kZXNjcmlwdGlvbjogIk1OUi5NTlIxNDYiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUxvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L2ZhcS5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9mb290ZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgidXNhYmlsaXR5LXRlc3Rpbmctc2NlbmFyaW9zIiwgewogICAgICBwYXJlbnQ6ICJzaXRlIiwKICAgICAgdXJsOiAiL3VzYWJpbGl0eS10ZXN0aW5nLXNjZW5hcmlvcyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjE0NyIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZSwKICAgICAgICBvZ19kZXNjcmlwdGlvbjogIk1OUi5NTlIxNDgiCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUxvZ2luQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVMb2dpbkNvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6CiAgICAgICAgICAgICIvdG1wbC90bXBsX2xhbmRpbmdfbmV3L3VzYWJpbGl0eS10ZXN0aW5nLXNjZW5hcmlvcy5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9sYW5kaW5nX25ldy9mb290ZXIuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiIgogICAgICAgIH0KICAgICAgfQogICAgfSkKICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVVJMIGFjY291bnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KCiAgICAuc3RhdGUoInRlc3RlciIsIHsKICAgICAgYWJzdHJhY3Q6IHRydWUsCiAgICAgIHBhcmVudDogImFjY291bnQiLAogICAgICB2aWV3czogewogICAgICAgIG1haW5fY29udGVudF9hY2NvdW50OiB7CiAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgdWktdmlldz0ibWFpbl90ZXN0ZXIiPjwvZGl2PicKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoImN1c3RvbWVyIiwgewogICAgICBhYnN0cmFjdDogdHJ1ZSwKICAgICAgcGFyZW50OiAiYWNjb3VudCIsCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9jb250ZW50X2FjY291bnQ6IHsKICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiB1aS12aWV3PSJtYWluX3ZpZXciPjwvZGl2PicKICAgICAgICB9CiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInRlc3Rlci5yZWdpc3RlciIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi90ZXN0ZXItcmVnaXN0ZXIiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMzciLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUKICAgICAgfSwKICAgICAgcmVzb2x2ZTogewogICAgICAgIGxvYWRIb21lVGVzdGVyUmVnaXN0ZXJDb250cm9sbGVyOiBsb2FkQ29udHJvbGxlcigKICAgICAgICAgICJob21lVGVzdGVyUmVnaXN0ZXJDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIikKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3Rlc3Rlcl9yZWdpc3Rlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lVGVzdGVyUmVnaXN0ZXJDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL2hlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiCiAgICAgICAgfQogICAgICB9CiAgICB9KQoKICAgIC5zdGF0ZSgicGFzc3dvcmQtcmVzZXQiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvcGFzc3dvcmRSZXNldCIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAiTU5SLk1OUjEzOCIsCiAgICAgICAgbW9iaWxlVmVyc2lvbjogdHJ1ZQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvcGFzc3dvcmQtcmVzZXQuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZVBhc3N3b3JkUmVzZXRDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9ncmVlbkhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiCiAgICAgICAgfQogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVQYXNzd29yZFJlc2V0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiaG9tZVBhc3N3b3JkUmVzZXRDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIikKICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgidW5zdWJzY3JpYmUiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvdW5zdWJzY3JpYmUvOmVtYWlsLzpzaWduYXR1cmUiLAogICAgICBkYXRhOiB7CiAgICAgICAgYXV0aG9yaXRpZXM6IFtdLAogICAgICAgIHBhZ2VUaXRsZTogIk1OUi5NTlIxMzkiLAogICAgICAgIG1vYmlsZVZlcnNpb246IHRydWUKICAgICAgfSwKICAgICAgdmlld3M6IHsKICAgICAgICBtYWluX2Jsb2NrOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogInRtcGwvdG1wbF9ob21lL3Vuc3Vic2NyaWJlLmh0bWwiLAogICAgICAgICAgY29udHJvbGxlcjogImhvbWVVbnN1YnNjcmliZUNvbnRyb2xsZXIiCiAgICAgICAgfSwKICAgICAgICBoZWFkZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL2dyZWVuSGVhZGVyLmh0bWwiCiAgICAgICAgfSwKICAgICAgICBmb290ZXI6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAiL3RtcGwvdG1wbF9ob21lL25ldy1mb290ZXIuaHRtbCIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZVVuc3Vic2NyaWJlQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiaG9tZVVuc3Vic2NyaWJlQ29udHJvbGxlciIKICAgICAgICApCiAgICAgIH0KICAgIH0pCiAgICAuc3RhdGUoInBhc3N3b3JkLW5ldyIsIHsKICAgICAgcGFyZW50OiAic2l0ZSIsCiAgICAgIHVybDogIi9uZXdfcGFzc3dvcmQ/a2V5IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTQwIiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlCiAgICAgIH0sCiAgICAgIHZpZXdzOiB7CiAgICAgICAgbWFpbl9ibG9jazogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICJ0bXBsL3RtcGxfaG9tZS9wYXNzd29yZC1uZXcuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZVBhc3N3b3JkUmVzZXRDb250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgaGVhZGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9ncmVlbkhlYWRlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTG9naW5Db250cm9sbGVyIgogICAgICAgIH0sCiAgICAgICAgZm9vdGVyOiB7CiAgICAgICAgICB0ZW1wbGF0ZVVybDogIi90bXBsL3RtcGxfaG9tZS9uZXctZm9vdGVyLmh0bWwiCiAgICAgICAgfQogICAgICB9LAogICAgICByZXNvbHZlOiB7CiAgICAgICAgbG9hZEhvbWVQYXNzd29yZFJlc2V0Q29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoCiAgICAgICAgICAiaG9tZVBhc3N3b3JkUmVzZXRDb250cm9sbGVyIgogICAgICAgICksCiAgICAgICAgbG9hZEhvbWVMb2dpbkNvbnRyb2xsZXI6IGxvYWRDb250cm9sbGVyKCJob21lTG9naW5Db250cm9sbGVyIikKICAgICAgfQogICAgfSkKICAgIC5zdGF0ZSgiYWN0aXZhdGUiLCB7CiAgICAgIHBhcmVudDogInNpdGUiLAogICAgICB1cmw6ICIvYWN0aXZhdGU/a2V5IiwKICAgICAgZGF0YTogewogICAgICAgIGF1dGhvcml0aWVzOiBbXSwKICAgICAgICBwYWdlVGl0bGU6ICJNTlIuTU5SMTQxIiwKICAgICAgICBtb2JpbGVWZXJzaW9uOiB0cnVlCiAgICAgIH0sCiAgICAgIHJlc29sdmU6IHsKICAgICAgICBsb2FkSG9tZUFjdGl2YXRlQ29udHJvbGxlcjogbG9hZENvbnRyb2xsZXIoImhvbWVBY3RpdmF0ZUNvbnRyb2xsZXIiKQogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIG1haW5fYmxvY2s6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX2hvbWUvYWN0aXZhdGUuaHRtbCIsCiAgICAgICAgICBjb250cm9sbGVyOiAiaG9tZUFjdGl2YXRlQ29udHJvbGxlciIKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogewogICAgICAgICAgdGVtcGxhdGVVcmw6ICIvdG1wbC90bXBsX2hvbWUvbmV3LWZvb3Rlci5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICIiCiAgICAgICAgfQogICAgICB9CiAgICB9KTsKfSk7Cgp2YXIgbG9hZENvbnRyb2xsZXIgPSBmdW5jdGlvbihjb250cm9sbGVyTmFtZSkgewogIHJldHVybiBbCiAgICAiJHEiLAogICAgZnVuY3Rpb24oJHEpIHsKICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTsKICAgICAgcmVxdWlyZShbY29udHJvbGxlck5hbWVdLCBmdW5jdGlvbigpIHsKICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTsKICAgIH0KICBdOwp9OwoKYXBwLmNvbmZpZyhbCiAgIiRodHRwUHJvdmlkZXIiLAogICIkc3RhdGVQcm92aWRlciIsCiAgIiR1cmxSb3V0ZXJQcm92aWRlciIsCiAgZnVuY3Rpb24oJGh0dHBQcm92aWRlciwgJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikgewogICAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy54c3JmQ29va2llTmFtZSA9ICJYU1JGLVRPS0VOIjsKICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMueHNyZkhlYWRlck5hbWUgPSAiWC1YU1JGLVRPS0VOIjsKCiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCJlcnJvckhhbmRsZXJJbnRlcmNlcHRvciIpOwogICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgiYXV0aEV4cGlyZWRJbnRlcmNlcHRvciIpOwoKICAgIHZhciBpbmRleCA9IHsKICAgICAgdXJsOiAiLyIsCiAgICAgIGRhdGE6IHsKICAgICAgICBhdXRob3JpdGllczogW10sCiAgICAgICAgcGFnZVRpdGxlOiAi0JTQvtC80LDRiNC90Y/RjyDRgdGC0YDQsNC90LjRhtCwIgogICAgICB9LAogICAgICB2aWV3czogewogICAgICAgIGJvZHk6IHsKICAgICAgICAgIHRlbXBsYXRlVXJsOiAidG1wbC90bXBsX3N0YXRpYy9pbmRleC5odG1sIiwKICAgICAgICAgIGNvbnRyb2xsZXI6ICJob21lTWFpbkNvbnRyb2xsZXIiCiAgICAgICAgfQogICAgICB9LAogICAgICByZXNvbHZlOiB7fQogICAgfTsKICAgIGluZGV4LnJlc29sdmUubG9hZEhvbWVNYWluQ29udHJvbGxlciA9IGxvYWRDb250cm9sbGVyKCJob21lTWFpbkNvbnRyb2xsZXIiKTsKICAgIGluZGV4LnJlc29sdmUubG9hZEhvbWVCb29raW5nQ29udHJvbGxlciA9IGxvYWRDb250cm9sbGVyKAogICAgICAiaG9tZUJvb2tpbmdDb250cm9sbGVyIgogICAgKTsKCiAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSgiaW5kZXgiLCBpbmRleCk7CiAgfQpdKTsK</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="80862703" offset="0" length="757" />
        <PacketInfo time="80862703" offset="757" length="16355" />
        <PacketInfo time="80862703" offset="17112" length="16355" />
        <PacketInfo time="80862718" offset="33467" length="16355" />
        <PacketInfo time="80862718" offset="49822" length="16355" />
        <PacketInfo time="80862718" offset="66177" length="16355" />
        <PacketInfo time="80862718" offset="82532" length="16355" />
        <PacketInfo time="80862718" offset="98887" length="16355" />
        <PacketInfo time="80862718" offset="115242" length="5284" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>